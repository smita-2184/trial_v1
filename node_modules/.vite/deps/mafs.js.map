{
  "version": 3,
  "sources": ["../../mafs/src/view/Mafs.tsx", "../../mafs/src/context/CoordinateContext.tsx", "../../mafs/src/context/PaneContext.tsx", "../../mafs/src/math.ts", "../../mafs/src/vec.ts", "../../mafs/src/context/TransformContext.tsx", "../../mafs/src/context/SpanContext.tsx", "../../mafs/src/gestures/useCamera.tsx", "../../mafs/src/gestures/useWheelEnabler.tsx", "../../mafs/src/context/TestContext.tsx", "../../mafs/src/display/Coordinates/Axes.tsx", "../../mafs/src/display/Coordinates/Cartesian.tsx", "../../mafs/src/display/Coordinates/Polar.tsx", "../../mafs/src/display/Coordinates/index.tsx", "../../mafs/src/display/Plot/Simple.tsx", "../../mafs/src/display/Plot/Parametric.tsx", "../../mafs/src/display/Plot/PlotUtils.tsx", "../../mafs/src/display/Theme.ts", "../../mafs/src/display/Plot/VectorField.tsx", "../../mafs/src/display/Plot/Inequality.tsx", "../../mafs/src/display/Plot.tsx", "../../mafs/src/display/Line/ThroughPoints.tsx", "../../mafs/src/display/Line/PointAngle.tsx", "../../mafs/src/display/Line/PointSlope.tsx", "../../mafs/src/display/Line/Segment.tsx", "../../mafs/src/display/Line.tsx", "../../mafs/src/display/Ellipse.tsx", "../../mafs/src/display/Circle.tsx", "../../mafs/src/display/PolyBase.tsx", "../../mafs/src/display/Polygon.tsx", "../../mafs/src/display/Polyline.tsx", "../../mafs/src/display/Point.tsx", "../../mafs/src/display/Vector.tsx", "../../mafs/src/display/Text.tsx", "../../mafs/src/interaction/MovablePoint.tsx", "../../mafs/src/interaction/useMovablePoint.tsx", "../../mafs/src/animation/useStopwatch.ts", "../../mafs/src/display/Transform.tsx", "../../mafs/src/debug/ViewportInfo.tsx", "../../mafs/src/debug/TransformWidget.tsx", "../../mafs/src/debug/index.tsx", "../../mafs/src/display/LaTeX.tsx", "../../use-resize-observer/dist/bundle.esm.js", "../../@use-gesture/core/dist/maths-0ab39ae9.esm.js", "../../@use-gesture/core/dist/actions-fe213e88.esm.js", "../../@use-gesture/react/dist/use-gesture-react.esm.js", "../../@use-gesture/core/dist/use-gesture-core.esm.js"],
  "sourcesContent": ["import * as React from \"react\"\nimport CoordinateContext, { CoordinateContextShape } from \"../context/CoordinateContext\"\nimport PaneManager from \"../context/PaneContext\"\nimport useResizeObserver from \"use-resize-observer\"\n\nimport { useGesture } from \"@use-gesture/react\"\nimport { round } from \"../math\"\nimport { vec } from \"../vec\"\nimport { TransformContext } from \"../context/TransformContext\"\nimport { SpanContext } from \"../context/SpanContext\"\nimport invariant from \"tiny-invariant\"\nimport { useCamera } from \"../gestures/useCamera\"\nimport { useWheelEnabler } from \"../gestures/useWheelEnabler\"\nimport { TestContext } from \"../context/TestContext\"\n\nexport type MafsProps = React.PropsWithChildren<{\n  width?: number | \"auto\"\n  height?: number\n\n  /** Whether to enable panning with the mouse and keyboard */\n  pan?: boolean\n\n  /**\n   * Whether to enable zooming with the mouse and keyboard. This can also be an\n   * object with `min` and `max` properties to set the scale limits.\n   *\n   *  * `min` should be in the range (0, 1].\n   *  * `max` should be in the range [1, \u221E).\n   */\n  zoom?: boolean | { min: number; max: number }\n\n  /**\n   * A way to declare the \"area of interest\" of your visualizations. Mafs will center and zoom to\n   * this area.\n   */\n  viewBox?: { x?: vec.Vector2; y?: vec.Vector2; padding?: number }\n  /**\n   * Whether to squish the graph to fill the Mafs viewport or to preserve the aspect ratio of the\n   * coordinate space.\n   */\n  preserveAspectRatio?: \"contain\" | false\n\n  /** Called when the view is clicked on, and passed the point where it was clicked. */\n  onClick?: (point: vec.Vector2, event: MouseEvent) => void\n\n  /**\n   * @deprecated this was previously used to avoid rendering Mafs on the server\n   * side. However, Mafs now avoids rendering at all until it is mounted, so\n   * this prop is now ignored.\n   */\n  ssr?: boolean\n}>\n\nexport function Mafs({\n  width: propWidth = \"auto\",\n  height: propHeight = 500,\n  pan = true,\n  zoom = false,\n  viewBox = { x: [-3, 3], y: [-3, 3] },\n  preserveAspectRatio = \"contain\",\n  children,\n  ssr = false,\n  onClick = undefined,\n}: MafsProps) {\n  const testContext = React.useContext(TestContext)\n  const height = testContext.overrideHeight ?? propHeight\n\n  const desiredCssWidth = propWidth === \"auto\" ? \"100%\" : `${propWidth}px`\n\n  const rootRef = React.useRef<HTMLDivElement>(null)\n  const { width = propWidth === \"auto\" ? (ssr ? 500 : 0) : propWidth } =\n    useResizeObserver<HTMLDivElement>({\n      ref: propWidth === \"auto\" ? rootRef : null,\n    })\n\n  return (\n    <div\n      className=\"MafsView\"\n      style={{ width: desiredCssWidth, height }}\n      tabIndex={pan || zoom ? 0 : -1}\n      ref={rootRef}\n    >\n      {width > 0 && (\n        <MafsCanvas\n          width={width}\n          height={height}\n          desiredCssWidth={desiredCssWidth}\n          rootRef={rootRef}\n          pan={pan}\n          zoom={zoom}\n          viewBox={viewBox}\n          preserveAspectRatio={preserveAspectRatio}\n          ssr={ssr}\n          onClick={onClick}\n        >\n          {children}\n        </MafsCanvas>\n      )}\n    </div>\n  )\n}\n\ntype MafsCanvasProps = {\n  width: number\n  height: number\n  desiredCssWidth: string\n  rootRef: React.RefObject<HTMLDivElement>\n} & Required<Pick<MafsProps, \"pan\" | \"zoom\" | \"viewBox\" | \"preserveAspectRatio\" | \"ssr\">> &\n  Pick<MafsProps, \"children\" | \"onClick\">\n\nfunction MafsCanvas({\n  width,\n  height,\n  desiredCssWidth,\n  rootRef,\n  pan,\n  zoom,\n  viewBox,\n  preserveAspectRatio,\n  children,\n  onClick,\n}: MafsCanvasProps) {\n  let minZoom = 1\n  let maxZoom = 1\n  if (typeof zoom === \"object\") {\n    invariant(zoom.min > 0 && zoom.min <= 1, \"zoom.min must be in the range (0, 1]\")\n    invariant(zoom.max >= 1, \"zoom.max must be in the range [1, \u221E)\")\n    minZoom = zoom.min\n    maxZoom = zoom.max\n  } else if (zoom) {\n    minZoom = 0.5\n    maxZoom = 5\n  }\n\n  const camera = useCamera({ minZoom, maxZoom })\n\n  const padding = viewBox?.padding ?? 0.5\n  // Default behavior for `preserveAspectRatio == false`\n  let xMin = (viewBox?.x?.[0] ?? 0) - padding\n  let xMax = (viewBox?.x?.[1] ?? 0) + padding\n  let yMin = (viewBox?.y?.[0] ?? 0) - padding\n  let yMax = (viewBox?.y?.[1] ?? 0) + padding\n\n  if (preserveAspectRatio === \"contain\") {\n    const aspect = width / height\n    const aoiAspect = (xMax - xMin) / (yMax - yMin)\n\n    if (aoiAspect > aspect) {\n      const yCenter = (yMax + yMin) / 2\n      const ySpan = (xMax - xMin) / aspect / 2\n      yMin = yCenter - ySpan\n      yMax = yCenter + ySpan\n    } else {\n      const xCenter = (xMax + xMin) / 2\n      const xSpan = ((yMax - yMin) * aspect) / 2\n      xMin = xCenter - xSpan\n      xMax = xCenter + xSpan\n    }\n  }\n\n  ;[xMin, yMin] = vec.transform([xMin, yMin], camera.matrix)\n  ;[xMax, yMax] = vec.transform([xMax, yMax], camera.matrix)\n\n  const xSpan = xMax - xMin\n  const ySpan = yMax - yMin\n\n  const viewTransform = React.useMemo(() => {\n    const scaleX = round((1 / xSpan) * width, 5)\n    const scaleY = round((-1 / ySpan) * height, 5)\n    return vec.matrixBuilder().scale(scaleX, scaleY).get()\n  }, [height, width, xSpan, ySpan])\n\n  const viewBoxX = round((xMin / (xMax - xMin)) * width, 10)\n  const viewBoxY = round((yMax / (yMin - yMax)) * height, 10)\n\n  const inverseViewTransform = vec.matrixInvert(viewTransform)\n\n  const pickupOrigin = React.useRef<vec.Vector2>([0, 0])\n  const pickupPoint = React.useRef<vec.Vector2>([0, 0])\n\n  function mapGesturePoint(point: vec.Vector2): vec.Vector2 {\n    const el = rootRef.current\n    invariant(el, \"SVG is not mounted\")\n    invariant(inverseViewTransform, \"View transform is not invertible\")\n\n    const rect = el.getBoundingClientRect()\n    return vec.transform(\n      [point[0] - rect.left + viewBoxX, point[1] - rect.top + viewBoxY],\n      inverseViewTransform\n    )\n  }\n\n  const wheelEnabler = useWheelEnabler(!!zoom)\n\n  const justDragged = React.useRef(false)\n\n  useGesture(\n    {\n      onDrag: ({ movement, first, event, type, pinching, memo = [0, 0], last }) => {\n        if (pinching) return movement\n\n        if (first) camera.setBase()\n        const [mx, my] = vec.sub(movement, memo)\n\n        camera.move({ pan: [(-mx / width) * xSpan, (my / height) * ySpan] })\n\n        const keyboard = type.includes(\"key\")\n        if (keyboard) event?.preventDefault()\n\n        // Some minor jank so that onClick doesn't fire on drag.\n        if (last) {\n          justDragged.current = true\n          setTimeout(() => (justDragged.current = false), 10)\n        }\n        return !keyboard && first ? movement : memo\n      },\n      onPinch: ({ first, movement: [scale], origin, event, last }) => {\n        if (!event.currentTarget || !inverseViewTransform) return\n\n        if (first) {\n          camera.setBase()\n          pickupOrigin.current = origin\n          pickupPoint.current = pan\n            ? mapGesturePoint(origin)\n            : [(xMin + xMax) / 2, (yMin + yMax) / 2]\n        }\n\n        let offset: vec.Vector2 = [0, 0]\n        if (pan) {\n          offset = vec.transform(vec.sub(origin, pickupOrigin.current), inverseViewTransform)\n        }\n        camera.move({ zoom: { at: pickupPoint.current, scale }, pan: vec.scale(offset, -1) })\n\n        // Commit the camera just in case we are transitioning into a drag\n        // gesture (such as by lifting just one finger after pinching).\n        if (last) camera.setBase()\n      },\n      onWheel: ({ pinching, event, delta: [, scroll] }) => {\n        if (pinching) return\n\n        // Simple sigmoid function to flatten extreme scrolling\n        const scale = 2 / (1 + Math.exp(-scroll / 300))\n\n        const point = mapGesturePoint([event.clientX, event.clientY])\n        camera.setBase()\n        camera.move({ zoom: { at: point, scale: 1 / scale } })\n      },\n      onKeyDown: ({ event }) => {\n        // Avoid messing with browser zoom\n        if (event.metaKey) return\n\n        const base = { Equal: 1, Minus: -1 }[event.code] ?? 0\n        if (!base) return\n\n        let multiplier = 0.1\n        if (event.altKey || event.metaKey) multiplier = 0.01\n        if (event.shiftKey) multiplier = 0.3\n\n        const scale = 1 + base * multiplier\n        const center: vec.Vector2 = [(xMax + xMin) / 2, (yMax + yMin) / 2]\n\n        camera.setBase()\n        camera.move({ zoom: { at: center, scale } })\n      },\n      onMouseMove: () => {\n        wheelEnabler.handleMouseMove()\n      },\n      onClick: ({ event }) => {\n        if (!onClick || !rootRef.current || justDragged.current) return\n\n        const box = rootRef.current.getBoundingClientRect()\n        const pxX = event.clientX - box.left\n        const pxY = box.bottom - event.clientY\n        const x = (pxX / width) * xSpan + xMin\n        const y = (pxY / height) * ySpan + yMin\n\n        onClick([x, y], event)\n      },\n    },\n    {\n      drag: { enabled: pan, eventOptions: { passive: false }, threshold: 1 },\n      pinch: { enabled: !!zoom, eventOptions: { passive: false } },\n      wheel: {\n        enabled: wheelEnabler.wheelEnabled,\n        preventDefault: true,\n        eventOptions: { passive: false },\n      },\n      target: rootRef,\n    }\n  )\n\n  const viewTransformCSS = vec.toCSS(viewTransform)\n\n  const coordinateContext = React.useMemo<CoordinateContextShape>(\n    () => ({ xMin, xMax, yMin, yMax, height, width }),\n    [xMin, xMax, yMin, yMax, height, width]\n  )\n\n  return (\n    <CoordinateContext.Provider value={coordinateContext}>\n      <SpanContext.Provider value={{ xSpan, ySpan }}>\n        <TransformContext.Provider\n          value={{ userTransform: vec.identity, viewTransform: viewTransform }}\n        >\n          <PaneManager>\n            <svg\n              width={width}\n              height={height}\n              viewBox={`${viewBoxX} ${viewBoxY} ${width} ${height}`}\n              preserveAspectRatio=\"xMidYMin\"\n              style={{\n                width: desiredCssWidth,\n                touchAction: pan ? \"none\" : \"auto\",\n                ...({\n                  \"--mafs-view-transform\": viewTransformCSS,\n                  \"--mafs-user-transform\": \"translate(0, 0)\",\n                } as React.CSSProperties),\n              }}\n            >\n              {children}\n            </svg>\n          </PaneManager>\n        </TransformContext.Provider>\n      </SpanContext.Provider>\n    </CoordinateContext.Provider>\n  )\n}\n\nMafs.displayName = \"Mafs\"\n", "import * as React from \"react\"\nimport invariant from \"tiny-invariant\"\n\nexport interface CoordinateContextShape {\n  xMin: number\n  xMax: number\n  yMin: number\n  yMax: number\n  width: number\n  height: number\n}\n\nconst CoordinateContext = React.createContext<CoordinateContextShape | null>(null)\nCoordinateContext.displayName = \"CoordinateContext\"\n\nexport function useCoordinateContext(): CoordinateContextShape {\n  const context = React.useContext(CoordinateContext)\n  invariant(\n    context,\n    \"CoordinateContext is not loaded. Are you rendering a Mafs component outside of Mafs?\"\n  )\n\n  return context\n}\n\nexport default CoordinateContext\n", "import * as React from \"react\"\nimport { useCoordinateContext } from \"./CoordinateContext\"\nimport { range, Interval } from \"../math\"\nconst { round, ceil, floor, log2 } = Math\n\ninterface PaneContextShape {\n  xPanes: Interval[]\n  yPanes: Interval[]\n  xPaneRange: Interval\n  yPaneRange: Interval\n}\n\nconst PaneContext = React.createContext<PaneContextShape>({\n  xPanes: [],\n  yPanes: [],\n  xPaneRange: [0, 0],\n  yPaneRange: [0, 0],\n})\nPaneContext.displayName = \"PaneContext\"\n\nexport function usePaneContext(): PaneContextShape {\n  return React.useContext(PaneContext)\n}\n\nfunction PaneManager({ children }: { children: React.ReactNode }) {\n  const { xMin, xMax, yMin, yMax } = useCoordinateContext()\n\n  const xPaneSize = 2 ** round(log2(xMax - xMin) - 1)\n  const yPaneSize = 2 ** round(log2(yMax - yMin) - 1)\n\n  // When there's only `pad` remaining of the current pane, we round up to\n  // load the next pane. For example, if each pane is 2 units wide, the next\n  // step of panes will be loaded at x = 1.75, 3.75, 5.75, etc when pad = 1/8.\n  const pad = 1 / 8\n  const xLowerBound = xPaneSize * floor(xMin / xPaneSize - pad)\n  const xUpperBound = xPaneSize * ceil(xMax / xPaneSize + pad)\n  const yLowerBound = yPaneSize * floor(yMin / yPaneSize - pad)\n  const yUpperBound = yPaneSize * ceil(yMax / yPaneSize + pad)\n\n  const xPanes = React.useMemo(\n    () =>\n      range(xLowerBound, xUpperBound - xPaneSize, xPaneSize).map(\n        (xMin) => [xMin, xMin + xPaneSize] as Interval\n      ),\n    [xLowerBound, xUpperBound, xPaneSize]\n  )\n\n  const yPanes = React.useMemo(\n    () =>\n      range(yLowerBound, yUpperBound - yPaneSize, yPaneSize).map(\n        (yMin) => [yMin, yMin + yPaneSize] as Interval\n      ),\n    [yLowerBound, yUpperBound, yPaneSize]\n  )\n\n  const context = React.useMemo(\n    () => ({\n      xPanes,\n      yPanes,\n      xPaneRange: [xLowerBound, xUpperBound] as Interval,\n      yPaneRange: [yLowerBound, yUpperBound] as Interval,\n    }),\n    [xPanes, yPanes, xLowerBound, xUpperBound, yLowerBound, yUpperBound]\n  )\n\n  return <PaneContext.Provider value={context}>{children}</PaneContext.Provider>\n}\n\nPaneManager.displayName = \"PaneManager\"\n\nexport default PaneManager\n", "export type Interval = [min: number, max: number]\n\nexport function round(value: number, precision = 0): number {\n  const multiplier = Math.pow(10, precision || 0)\n  return Math.round(value * multiplier) / multiplier\n}\n\nexport function range(min: number, max: number, step = 1): number[] {\n  const result = []\n  for (let i = min; i < max - step / 2; i += step) {\n    result.push(i)\n  }\n\n  const computedMax = result[result.length - 1] + step\n  if (Math.abs(max - computedMax) < step / 1e-6) {\n    result.push(max)\n  } else {\n    result.push(computedMax)\n  }\n\n  return result\n}\n\nexport function clamp(number: number, min: number, max: number): number {\n  return Math.min(Math.max(number, min), max)\n}\n", "// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace vec {\n  /**\n   * @fileinfo\n   *\n   * Mafs' internal linear algebra functions.\n   *\n   * A lot of the code here was adapted from [vec-la](https://github.com/francisrstokes/vec-la) 1.4.0,\n   * which was released under the MIT license.\n   */\n\n  /**\n   * A two-dimensional vector\n   */\n  export type Vector2 = [x: number, y: number]\n\n  /**\n   * A 2x3 representation of a 3x3 matrix used to transform and translate a\n   * two-dimensional vector.\n   */\n  export type Matrix = [number, number, number, number, number, number]\n\n  /**\n   * Add two vectors\n   */\n  export function add(v: Vector2, v2: Vector2): Vector2 {\n    return [v[0] + v2[0], v[1] + v2[1]]\n  }\n\n  /**\n   * Subtract one vector from another\n   */\n  export function sub(v: Vector2, v2: Vector2): Vector2 {\n    return [v[0] - v2[0], v[1] - v2[1]]\n  }\n\n  /**\n   * Get the magnitude of a vector\n   */\n  export function mag(v: Vector2): number {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1])\n  }\n\n  /**\n   * Get the normal vector of a vector\n   */\n  export function normal(v: Vector2): Vector2 {\n    return [-v[1], v[0]]\n  }\n\n  /**\n   * Linear interpolation between two vectors\n   */\n  export function lerp(v1: Vector2, v2: Vector2, t: number): Vector2 {\n    const d = sub(v2, v1)\n    const m = mag(d)\n    return add(v1, withMag(d, t * m))\n  }\n\n  export function withMag(v: Vector2, m: number): Vector2 {\n    const magnitude = mag(v)\n    return scale(v, m / magnitude)\n  }\n  /**\n   * Return a normalized version of a vector\n   */\n  export function normalize(v: Vector2): Vector2 {\n    return withMag(v, 1)\n  }\n\n  /**\n   * Scale a vector by a scalar\n   */\n  export function scale(v: Vector2, sc: number): Vector2 {\n    return [v[0] * sc, v[1] * sc]\n  }\n\n  /**\n   * Apply a matrix transformation to a vector\n   */\n  export function transform(v: Vector2, m: Matrix): Vector2 {\n    return [v[0] * m[0] + v[1] * m[1] + m[2], v[0] * m[3] + v[1] * m[4] + m[5]]\n  }\n\n  /**\n   * Multiply two matrices (compose 2D transformations)\n   */\n  export function matrixMult(m: Matrix, m2: Matrix): Matrix {\n    return matrixCreate(\n      m[0] * m2[0] + m[1] * m2[3],\n      m[3] * m2[0] + m[4] * m2[3],\n      m[0] * m2[1] + m[1] * m2[4],\n      m[3] * m2[1] + m[4] * m2[4],\n      m[0] * m2[2] + m[1] * m2[5] + m[2],\n      m[3] * m2[2] + m[4] * m2[5] + m[5]\n    )\n  }\n\n  /**\n   * Rotates a vector around the origin. Shorthand for a rotation matrix\n   */\n  export function rotate(v: Vector2, a: number): Vector2 {\n    const c = Math.cos(a)\n    const s = Math.sin(a)\n    return [v[0] * c - v[1] * s, v[0] * s + v[1] * c]\n  }\n\n  /**\n   * Rotates a vector around a given point.\n   */\n  export function rotateAbout(v: Vector2, cp: Vector2, a: number): Vector2 {\n    const v2 = sub(v, cp)\n    return add(cp, rotate(v2, a))\n  }\n\n  /**\n   * Gets the midpoint of two vectors\n   */\n  export function midpoint(v: Vector2, v2: Vector2): Vector2 {\n    return lerp(v, v2, 0.5)\n  }\n\n  /**\n   * Gets the distance between two vectors\n   */\n  export function dist(v: Vector2, v2: Vector2): number {\n    return Math.sqrt(squareDist(v, v2))\n  }\n\n  /**\n   * Get the square distance between two vectors\n   */\n  export function squareDist(v: Vector2, v2: Vector2): number {\n    return Math.pow(v2[0] - v[0], 2) + Math.pow(v2[1] - v[1], 2)\n  }\n\n  /**\n   * Dot product of two vectors\n   */\n  export function dot(v: Vector2, v2: Vector2): number {\n    return v[0] * v2[0] + v[1] * v2[1]\n  }\n\n  /**\n   * Determinant of a matrix\n   */\n  export function det(m: Matrix): number {\n    return m[0] * m[4] - m[3] * m[1]\n  }\n\n  /**\n   * Inverts a 3x3 matrix, returning null if the determinant is zero\n   * (indicating a degenerate transformation)\n   */\n  export function matrixInvert(a: Matrix): Matrix | null {\n    // Calculate the determinant\n    const mDet = det(a)\n    if (!mDet) return null\n\n    const invDet = 1.0 / mDet\n\n    const a00 = a[0],\n      a01 = a[1],\n      a02 = a[2]\n    const a10 = a[3],\n      a11 = a[4],\n      a12 = a[5]\n\n    return matrixCreate(\n      invDet * a11,\n      invDet * -a10,\n      invDet * -a01,\n      invDet * a00,\n      invDet * (a12 * a01 - a02 * a11),\n      invDet * (-a12 * a00 + a02 * a10)\n    )\n  }\n\n  /**\n   * Returns a builder object for easily creating a matrix from several transformations.\n   *\n   * ```ts\n   * const matrix =\n   *   vec.matrixBuilder().translate(10, 10).scale(2).get()\n   * ```\n   *\n   * An existing matrix can also be passed in to start with.\n   */\n  export function matrixBuilder(m: Matrix | null = null) {\n    const _m = m || matrixCreate()\n\n    return {\n      mult: (m: Matrix) => matrixBuilder(matrixMult(m, _m)),\n      translate: (x: number, y: number) =>\n        matrixBuilder(matrixMult(matrixCreate(1, 0, 0, 1, x, y), _m)),\n      rotate: (a: number) => {\n        const c = Math.cos(a)\n        const s = Math.sin(a)\n        return matrixBuilder(matrixMult(matrixCreate(c, s, -s, c), _m))\n      },\n      scale: (x: number, y: number) => matrixBuilder(matrixMult(matrixCreate(x, 0, 0, y), _m)),\n      shear: (x: number, y: number) => matrixBuilder(matrixMult(matrixCreate(1, y, x, 1), _m)),\n      get: (): Matrix => [..._m],\n    }\n  }\n\n  /**\n   * Represent a matrix as a CSS transform `matrix(...)` string\n   */\n  export function toCSS(matrix: Matrix) {\n    const [a, c, tx, b, d, ty] = matrix\n    return `matrix(${a}, ${b}, ${c}, ${d}, ${tx}, ${ty})`\n  }\n\n  export const identity = matrixBuilder().get()\n}\n\n/**\n * Create a matrix\n */\nfunction matrixCreate(a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0): vec.Matrix {\n  return [a, c, tx, b, d, ty]\n}\n", "import * as React from \"react\"\nimport invariant from \"tiny-invariant\"\nimport { vec } from \"../vec\"\n\ninterface TransformContextShape {\n  /**\n   * The resulting transformation matrix from any user-provided transforms (via\n   * the `<Transform />` component).\n   */\n  userTransform: vec.Matrix\n\n  /**\n   * A transformation that maps \"math\" space to pixel space. Note that, in many\n   * cases, you don't need to use this transformation directly. Instead, use the\n   * `var(--mafs-view-transform)` CSS custom property in combination with the\n   * SVG `transform` prop.\n   */\n  viewTransform: vec.Matrix\n}\n\nexport const TransformContext = React.createContext<TransformContextShape | null>(null)\nTransformContext.displayName = \"TransformContext\"\n\n/**\n * A hook that returns the current transformation context. This is useful for\n * building custom Mafs components that need to be aware of how to map between\n * world space and pixel space, and also need to respond to user-provided\n * transformations.\n */\nexport function useTransformContext() {\n  const context = React.useContext(TransformContext)\n\n  invariant(\n    context,\n    \"TransformContext is not loaded. Are you rendering a Mafs component outside of a MafsView?\"\n  )\n\n  return context\n}\n", "import * as React from \"react\"\nimport invariant from \"tiny-invariant\"\n\ninterface SpanContextShape {\n  xSpan: number\n  ySpan: number\n}\n\nexport const SpanContext = React.createContext<SpanContextShape | null>({\n  xSpan: 0,\n  ySpan: 0,\n})\n\nSpanContext.displayName = \"SpanContext\"\n\nexport function useSpanContext(): SpanContextShape {\n  const context = React.useContext(SpanContext)\n  invariant(context, \"SpanContext is not defined\")\n  return context\n}\n", "import * as React from \"react\"\nimport { clamp } from \"../math\"\nimport { vec } from \"../vec\"\n\nexport function useCamera({ minZoom, maxZoom }: { minZoom: number; maxZoom: number }) {\n  const [matrix, setMatrix] = React.useState<vec.Matrix>(vec.identity)\n  const initialMatrix = React.useRef<vec.Matrix>(vec.identity)\n\n  return {\n    matrix: matrix,\n    setBase() {\n      initialMatrix.current = matrix\n    },\n    move({ zoom, pan }: { zoom?: { at: vec.Vector2; scale?: number }; pan?: vec.Vector2 }) {\n      const scale = 1 / (zoom?.scale ?? 1)\n      const zoomAt = zoom?.at ?? [0, 0]\n\n      const currentScale = initialMatrix.current[0]\n      const minScale = 1 / maxZoom / currentScale\n      const maxScale = 1 / minZoom / currentScale\n\n      /**\n       * Represents the amount of scaling to apply such that we never exceed the\n       * minimum or maximum zoom level.\n       */\n      const clampedScale = clamp(scale, minScale, maxScale)\n\n      const newCamera = vec\n        .matrixBuilder(initialMatrix.current)\n        .translate(...vec.scale(zoomAt, -1))\n        .scale(clampedScale, clampedScale)\n        .translate(...vec.scale(zoomAt, 1))\n        .translate(...(pan ?? [0, 0]))\n        .get()\n\n      setMatrix(newCamera)\n    },\n  }\n}\n", "import * as React from \"react\"\n\n/**\n * A custom hook that makes the `wheel` event not interrupt scrolling. It will\n * only allow the Mafs viewport to be zoomed using the wheel if the user hasn't\n * scrolled the page for 500ms, or if they are hovering over the Mafs viewport.\n */\nexport function useWheelEnabler(zoomEnabled: boolean) {\n  const [wheelEnabled, setWheelEnabled] = React.useState(false)\n\n  const timer = React.useRef<number>(0)\n\n  React.useEffect(() => {\n    if (!zoomEnabled) return\n\n    function handleWindowScroll() {\n      setWheelEnabled(false)\n\n      clearTimeout(timer.current)\n      timer.current = setTimeout(() => {\n        setWheelEnabled(true)\n      }, 500) as unknown as number\n    }\n\n    window.addEventListener(\"scroll\", handleWindowScroll)\n    return () => window.removeEventListener(\"scroll\", handleWindowScroll)\n  }, [zoomEnabled])\n\n  return {\n    wheelEnabled: zoomEnabled ? wheelEnabled : false,\n    handleMouseMove() {\n      setWheelEnabled(true)\n    },\n  }\n}\n", "import * as React from \"react\"\n\ninterface TestContextShape {\n  overrideHeight?: number\n}\n\nexport const TestContext = React.createContext<TestContextShape>({\n  overrideHeight: undefined,\n})\n\nexport const TestContextProvider = TestContext.Provider\n", "import { usePaneContext } from \"../../context/PaneContext\"\nimport { useTransformContext } from \"../../context/TransformContext\"\nimport { vec } from \"../../vec\"\nimport { snappedRange } from \"./Cartesian\"\n\nexport type LabelMaker = (value: number) => React.ReactNode\n\nexport interface LabelsProps {\n  separation: number\n  labelMaker: LabelMaker\n}\n\nexport type AxisOptions = {\n  axis: boolean\n  lines: number | false\n  labels?: false | LabelMaker\n}\n\nexport const defaultLabelMaker: LabelMaker = (x) => (\n  <>\n    {x}\n    {x < 0 && <tspan visibility=\"hidden\">-</tspan>}\n  </>\n)\n\nexport const defaultAxisOptions: Partial<AxisOptions> = {\n  axis: true,\n  lines: 1,\n  labels: defaultLabelMaker,\n}\n\nexport function XLabels({ separation, labelMaker }: LabelsProps) {\n  const { viewTransform } = useTransformContext()\n  const { xPanes } = usePaneContext()\n\n  return (\n    <g className=\"mafs-axis\">\n      {xPanes.map(([min, max]) => (\n        <g key={`${min},${max}`}>\n          {snappedRange(min, max, separation)\n            .filter((x) => Math.abs(x) > separation / 1e6)\n            .map((x) => (\n              <text\n                x={vec.transform([x, 0], viewTransform)[0]}\n                y={5}\n                key={x}\n                dominantBaseline=\"hanging\"\n                textAnchor=\"middle\"\n                style={{ fill: \"var(--mafs-origin-color)\", paintOrder: \"stroke\" }}\n              >\n                {labelMaker(x)}\n              </text>\n            ))}\n        </g>\n      ))}\n    </g>\n  )\n}\nXLabels.displayName = \"CartesianCoordinates.XLabels\"\n\nexport function YLabels({ separation, labelMaker }: LabelsProps) {\n  const { viewTransform } = useTransformContext()\n  const { yPanes } = usePaneContext()\n\n  return (\n    <g className=\"mafs-axis\">\n      {yPanes.map(([min, max]) => (\n        <g key={`${min},${max}`}>\n          {snappedRange(min, max, separation)\n            .filter((y) => Math.abs(y) > separation / 1e6)\n            .map((y) => (\n              <text\n                x={5}\n                y={vec.transform([0, y], viewTransform)[1]}\n                key={y}\n                dominantBaseline=\"central\"\n                style={{ fill: \"var(--mafs-origin-color)\", paintOrder: \"stroke\" }}\n              >\n                {labelMaker(y)}\n              </text>\n            ))}\n        </g>\n      ))}\n    </g>\n  )\n}\nYLabels.displayName = \"CartesianCoordinates.YLabels\"\n", "import { range, round } from \"../../math\"\nimport { usePaneContext } from \"../../context/PaneContext\"\nimport { useTransformContext } from \"../../context/TransformContext\"\nimport { vec } from \"../../vec\"\nimport { XLabels, YLabels, AxisOptions, defaultAxisOptions } from \"./Axes\"\n\n// This is sort of a hack\u2014every SVG pattern on a page needs a unique ID, otherwise they conflict.\nlet incrementer = 0\n\ntype GridAxisOptions = Partial<AxisOptions & { subdivisions: number | false }>\n\nexport interface CartesianCoordinatesProps {\n  xAxis?: GridAxisOptions | false\n  yAxis?: GridAxisOptions | false\n  subdivisions?: number | false\n}\n\nexport function Cartesian({\n  xAxis: xAxisOverrides,\n  yAxis: yAxisOverrides,\n  subdivisions = false,\n}: CartesianCoordinatesProps) {\n  const xAxisEnabled = xAxisOverrides !== false\n  const yAxisEnabled = yAxisOverrides !== false\n\n  const xAxis = { subdivisions, ...defaultAxisOptions, ...xAxisOverrides } as GridAxisOptions\n  const yAxis = { subdivisions, ...defaultAxisOptions, ...yAxisOverrides } as GridAxisOptions\n\n  const id = `cartesian-${incrementer++}`\n\n  const { viewTransform } = useTransformContext()\n  const { xPaneRange, yPaneRange } = usePaneContext()\n\n  const [xMin, xMax] = xPaneRange\n  const [yMin, yMax] = yPaneRange\n\n  const [vxMin, vyMin] = vec.transform([xMin, yMin], viewTransform)\n  const [vxMax, vyMax] = vec.transform([xMax, yMax], viewTransform)\n\n  const xLines = xAxis.lines || 1\n  const yLines = yAxis.lines || 1\n\n  const [unitW, unitH] = vec.transform([xLines, -yLines], viewTransform)\n\n  const xSubs = xAxis.subdivisions || 1\n  const ySubs = yAxis.subdivisions || 1\n\n  const subUnitW = unitW / xSubs\n  const subUnitH = unitH / ySubs\n\n  return (\n    <g fill=\"none\">\n      <pattern x={0} y={0} width={unitW} height={unitH} id={id} patternUnits=\"userSpaceOnUse\">\n        <pattern\n          width={subUnitW}\n          height={subUnitH}\n          id={`${id}-subdivision`}\n          patternUnits=\"userSpaceOnUse\"\n        >\n          <g stroke=\"var(--grid-line-subdivision-color)\">\n            {xAxisEnabled !== false && xSubs > 1 && (\n              <>\n                <line x1={0} y1={0} x2={0} y2={subUnitH} />\n                <line x1={subUnitW} y1={0} x2={subUnitW} y2={subUnitH} />\n              </>\n            )}\n            {yAxisEnabled !== false && ySubs > 1 && (\n              <>\n                <line x1={0} y1={0} x2={subUnitW} y2={0} />\n                <line x1={0} y1={subUnitH} x2={subUnitW} y2={subUnitH} />\n              </>\n            )}\n          </g>\n        </pattern>\n\n        <rect width={unitW} height={unitH} fill={`url(#${id}-subdivision)`} />\n\n        <g stroke=\"var(--mafs-line-color)\">\n          {yAxisEnabled && xAxis.lines && (\n            <>\n              <line x1={0} y1={0} x2={unitW} y2={0} />\n              <line x1={0} y1={unitH} x2={unitW} y2={unitH} />\n            </>\n          )}\n          {xAxisEnabled && yAxis.lines && (\n            <>\n              <line x1={0} y1={0} x2={0} y2={unitH} />\n              <line x1={unitW} y1={0} x2={unitW} y2={unitH} />\n            </>\n          )}\n        </g>\n      </pattern>\n\n      <rect x={vxMin} y={vyMax} width={vxMax - vxMin} height={vyMin - vyMax} fill={`url(#${id})`} />\n\n      <g stroke=\"var(--mafs-origin-color)\">\n        {xAxisEnabled && xAxis.axis && <line x1={vxMin} y1={0} x2={vxMax} y2={0} />}\n        {yAxisEnabled && yAxis.axis && <line x1={0} y1={vyMin} x2={0} y2={vyMax} />}\n      </g>\n\n      <g className=\"mafs-shadow\">\n        {xAxisEnabled && xAxis.labels && (\n          <XLabels separation={xAxis.lines || 1} labelMaker={xAxis.labels} />\n        )}\n        {yAxisEnabled && yAxis.labels && (\n          <YLabels separation={yAxis.lines || 1} labelMaker={yAxis.labels} />\n        )}\n      </g>\n    </g>\n  )\n}\n\nexport function snappedRange(min: number, max: number, step: number) {\n  const roundMin = Math.floor(min / step) * step\n  const roundMax = Math.ceil(max / step) * step\n\n  if (roundMin === roundMax - step) return [roundMin]\n  return range(roundMin, roundMax - step, step)\n}\n\nexport function autoPi(x: number): string {\n  if (x === 0) return \"0\"\n  if (Math.abs(Math.PI - x) < 0.001) return \"\u03C0\"\n  if (Math.abs(-Math.PI - x) < 0.001) return \"-\u03C0\"\n  return `${round(x / Math.PI, 5)}\u03C0`\n}\n", "import { usePaneContext } from \"../../context/PaneContext\"\nimport { useTransformContext } from \"../../context/TransformContext\"\nimport { range } from \"../../math\"\nimport { vec } from \"../../vec\"\nimport { XLabels, YLabels, defaultLabelMaker, AxisOptions, defaultAxisOptions } from \"./Axes\"\n\nconst thetas = range(0, 2 * Math.PI, Math.PI / 12)\n\nexport interface PolarCoordinatesProps {\n  xAxis?: Partial<AxisOptions> | false\n  yAxis?: Partial<AxisOptions> | false\n  lines?: number\n  subdivisions?: number\n}\n\nexport function PolarCoordinates({\n  xAxis: xAxisOverrides,\n  yAxis: yAxisOverrides,\n  lines = 1,\n  subdivisions,\n}: PolarCoordinatesProps) {\n  const xAxisEnabled = xAxisOverrides !== false\n  const yAxisEnabled = yAxisOverrides !== false\n\n  const xAxis = { ...defaultAxisOptions, ...xAxisOverrides } as AxisOptions\n  const yAxis = { ...defaultAxisOptions, ...yAxisOverrides } as AxisOptions\n\n  const { viewTransform } = useTransformContext()\n  const { xPaneRange, yPaneRange } = usePaneContext()\n\n  const [xMin, xMax] = xPaneRange\n  const [yMin, yMax] = yPaneRange\n\n  const distances = [\n    vec.mag([xMin, yMin]),\n    vec.mag([xMin, yMax]),\n    vec.mag([xMax, yMin]),\n    vec.mag([xMax, yMax]),\n    vec.mag([(xMin + xMax) / 2, (yMin + yMax) / 2]),\n  ]\n  const b = lines\n\n  const closeToOrigin = Math.min(...distances) < Math.max(xMax - xMin, yMax - yMin)\n  const minRadiusPrecise = closeToOrigin ? 0 : Math.min(...distances)\n  const maxRadiusPrecise = Math.max(...distances)\n\n  const minRadius = Math.floor(minRadiusPrecise / b) * b\n  const maxRadius = Math.ceil(maxRadiusPrecise / b) * b\n\n  const [vxMin, vyMin] = vec.transform([xMin, yMin], viewTransform)\n  const [vxMax, vyMax] = vec.transform([xMax, yMax], viewTransform)\n\n  const [scaleX, scaleY] = vec.transform([1, -1], viewTransform)\n\n  const rs = range(minRadius, maxRadius, b)\n  const subRs = subdivisions != undefined ? range(minRadius, maxRadius, b / subdivisions) : []\n\n  return (\n    <g fill=\"none\">\n      <g stroke=\"var(--grid-line-subdivision-color)\">\n        {thetas.map((theta) => (\n          <line\n            key={theta}\n            x1={0}\n            y1={0}\n            x2={Math.cos(theta) * maxRadius * scaleX}\n            y2={-Math.sin(theta) * maxRadius * scaleY}\n          />\n        ))}\n      </g>\n\n      {subRs.map((r) => (\n        <ellipse\n          data-r={r}\n          key={r}\n          cx={0}\n          cy={0}\n          rx={r * scaleX}\n          ry={r * scaleY}\n          stroke=\"var(--grid-line-subdivision-color)\"\n        />\n      ))}\n\n      {rs.map((r) => (\n        <ellipse\n          data-r={r}\n          key={r}\n          cx={0}\n          cy={0}\n          rx={r * scaleX}\n          ry={r * scaleY}\n          stroke=\"var(--mafs-line-color)\"\n        />\n      ))}\n\n      <g stroke=\"var(--mafs-origin-color)\">\n        {xAxisEnabled && xAxis.axis && <line x1={vxMin} y1={0} x2={vxMax} y2={0} />}\n        {yAxisEnabled && yAxis.axis && <line x1={0} y1={vyMin} x2={0} y2={vyMax} />}\n      </g>\n\n      <g className=\"mafs-shadow\">\n        {xAxisEnabled && xAxis.labels && (\n          <XLabels\n            separation={xAxisOverrides?.lines || lines || 1}\n            labelMaker={xAxis.labels || defaultLabelMaker}\n          />\n        )}\n        {yAxisEnabled && yAxis.labels && (\n          <YLabels\n            separation={yAxisOverrides?.lines || lines || 1}\n            labelMaker={yAxis.labels || defaultLabelMaker}\n          />\n        )}\n      </g>\n    </g>\n  )\n}\n", "import { Cartesian } from \"./Cartesian\"\nimport { PolarCoordinates as Polar } from \"./Polar\"\n\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nPolar.displayName = \"Coordinates.Polar\"\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nCartesian.displayName = \"Coordinates.Cartesian\"\n\nexport const Coordinates = {\n  Cartesian,\n  Polar,\n}\n", "import * as React from \"react\"\nimport { usePaneContext } from \"../../context/PaneContext\"\nimport { Parametric, ParametricProps } from \"./Parametric\"\nimport { vec } from \"../../vec\"\n\nexport interface OfXProps extends Omit<ParametricProps, \"xy\" | \"t\"> {\n  y: (x: number) => number\n  svgPathProps?: React.SVGProps<SVGPathElement>\n}\n\nexport function OfX({ y, ...props }: OfXProps) {\n  const {\n    xPaneRange: [xMin, xMax],\n  } = usePaneContext()\n\n  const xy = React.useCallback<ParametricProps[\"xy\"]>((x) => [x, y(x)], [y])\n  const t = React.useMemo<vec.Vector2>(() => [xMin, xMax], [xMin, xMax])\n\n  return <Parametric xy={xy} t={t} {...props} />\n}\n\nexport interface OfYProps extends Omit<ParametricProps, \"xy\" | \"t\"> {\n  x: (y: number) => number\n  svgPathProps?: React.SVGProps<SVGPathElement>\n}\n\nexport function OfY({ x, ...props }: OfYProps) {\n  const {\n    yPaneRange: [yMin, yMax],\n  } = usePaneContext()\n\n  const xy = React.useCallback<ParametricProps[\"xy\"]>((y) => [x(y), y], [x])\n  const t = React.useMemo<vec.Vector2>(() => [yMin, yMax], [yMin, yMax])\n\n  return <Parametric xy={xy} t={t} {...props} />\n}\n", "import * as React from \"react\"\nimport { vec } from \"../../vec\"\nimport { Stroked } from \"../Theme\"\nimport { useTransformContext } from \"../../context/TransformContext\"\nimport { sampleParametric } from \"./PlotUtils\"\n\nexport interface ParametricProps extends Stroked {\n  /** A function that takes a `t` value and returns a point. */\n  xy: (t: number) => vec.Vector2\n  /** The domain `t` between which to evaluate `xy`. */\n  t: vec.Vector2\n  /** The minimum recursive depth of the sampling algorithm. */\n  minSamplingDepth?: number\n  /** The maximum recursive depth of the sampling algorithm. */\n  maxSamplingDepth?: number\n\n  svgPathProps?: React.SVGProps<SVGPathElement>\n}\n\nexport function Parametric({\n  xy,\n  t,\n  color,\n  style = \"solid\",\n  weight = 2,\n  opacity = 1.0,\n  maxSamplingDepth = 14,\n  minSamplingDepth = 8,\n  svgPathProps = {},\n}: ParametricProps) {\n  const { viewTransform } = useTransformContext()\n\n  // Negative because the y-axis is flipped in the SVG coordinate system.\n  const pixelsPerSquare = -vec.det(viewTransform)\n\n  const [tMin, tMax] = t\n  const errorThreshold = 0.1 / pixelsPerSquare\n\n  const svgPath = React.useMemo(\n    () => sampleParametric(xy, [tMin, tMax], minSamplingDepth, maxSamplingDepth, errorThreshold),\n    [xy, minSamplingDepth, maxSamplingDepth, errorThreshold, tMin, tMax]\n  )\n\n  return (\n    <path\n      d={svgPath}\n      strokeWidth={weight}\n      fill=\"none\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeDasharray={style === \"dashed\" ? \"1,10\" : undefined}\n      {...svgPathProps}\n      style={{\n        stroke: color || \"var(--mafs-fg)\",\n        strokeOpacity: opacity,\n        vectorEffect: \"non-scaling-stroke\",\n        transform: \"var(--mafs-view-transform)\",\n        ...(svgPathProps.style || {}),\n      }}\n    />\n  )\n}\n", "import { vec } from \"../../vec\"\n\ninterface SampleParams<P> {\n  /** The function to sample */\n  fn: (t: number) => P\n  /** A function that computes the error between a real sample function output and a midpoint output */\n  error: (real: P, estimate: P) => number\n  /** A function that computes the midpoint of two sample function outputs */\n  midpoint: (p1: P, p2: P) => P\n  /** A function that is called whenever a point should be part of the sample */\n  onPoint: (t: number, p: P) => void\n  /** The domain to sample */\n  domain: [min: number, max: number]\n  /** The minimum recursion depth */\n  minDepth: number\n  /** The maximum recursion depth */\n  maxDepth: number\n  /** The maximium tolerated error returned by the error function */\n  threshold: number\n}\n\n/**\n * A relatively generic internal function which, given a function, domain, and\n * an error function, will recursively subdivide the domain until sampling said\n * function at each point in the domain yields an error less than the supplied\n * threshold. Importantly, this makes no assumptions about the return type of\n * the sampled function.\n */\nfunction sample<SampledReturnType>({\n  domain,\n  minDepth,\n  maxDepth,\n  threshold,\n  fn,\n  error,\n  onPoint,\n  midpoint,\n}: SampleParams<SampledReturnType>) {\n  const [min, max] = domain\n\n  function subdivide(\n    min: number,\n    max: number,\n    pushLeft: boolean,\n    pushRight: boolean,\n    depth: number,\n    pMin: SampledReturnType,\n    pMax: SampledReturnType\n  ) {\n    const t = 0.5\n    const mid = min + (max - min) * t\n    const pMid = fn(mid)\n\n    if (depth < minDepth) {\n      subdivide(min, mid, true, false, depth + 1, pMin, pMid)\n      subdivide(mid, max, false, true, depth + 1, pMid, pMax)\n      return\n    }\n\n    if (depth < maxDepth) {\n      const fnMidpoint = midpoint(pMin, pMax)\n      const e = error(pMid, fnMidpoint)\n      if (e > threshold) {\n        subdivide(min, mid, true, false, depth + 1, pMin, pMid)\n        subdivide(mid, max, false, true, depth + 1, pMid, pMax)\n        return\n      }\n    }\n\n    if (pushLeft) {\n      onPoint(min, pMin)\n    }\n    onPoint(mid, pMid)\n    if (pushRight) {\n      onPoint(max, pMax)\n    }\n  }\n\n  subdivide(min, max, true, true, 0, fn(min), fn(max))\n}\n\nexport function sampleParametric(\n  fn: (t: number) => vec.Vector2,\n  domain: vec.Vector2,\n  minDepth: number,\n  maxDepth: number,\n  threshold: number\n) {\n  let result = \"M \"\n\n  sample({\n    fn,\n    error: (a, b) => vec.squareDist(a, b),\n    onPoint: (_t, [x, y]) => {\n      if (Number.isFinite(x) && Number.isFinite(y)) {\n        result += `${x} ${y} L `\n      }\n    },\n    midpoint: (p1, p2) => vec.midpoint(p1, p2),\n    domain,\n    minDepth,\n    maxDepth,\n    threshold,\n  })\n\n  return result.substring(0, result.length - 2)\n}\n\nexport function sampleInequality(\n  rangeAxis: \"x\" | \"y\",\n  upper: (t: number) => number,\n  lower: (t: number) => number,\n  domain: vec.Vector2,\n  minDepth: number,\n  maxDepth: number,\n  threshold: number\n) {\n  const result = { fill: \"\", upper: \"\", lower: \"\" }\n\n  let upperTmp = \"\"\n  let lowerTmp = \"\"\n  let ineqFalse = false\n\n  let prevX = 0\n  let prevUpper = 0\n  let prevLower = 0\n\n  function pointToString(x: number, y: number) {\n    return rangeAxis === \"x\" ? `${x} ${y}` : `${y} ${x}`\n  }\n\n  sample<[vec.Vector2, vec.Vector2]>({\n    domain,\n    minDepth,\n    maxDepth,\n    threshold,\n    fn: (x) => [\n      [x, lower(x)],\n      [x, upper(x)],\n    ],\n    error: ([realLower, realUpper], [estLower, estUpper]) => {\n      return Math.max(vec.squareDist(realLower, estLower), vec.squareDist(realUpper, estUpper))\n    },\n    midpoint: ([aLower, aUpper], [bLower, bUpper]) => {\n      return [vec.midpoint(aLower, bLower), vec.midpoint(aUpper, bUpper)]\n    },\n    onPoint: (x, [[, lower], [, upper]]) => {\n      // TODO: these inequality operators should reflect the props, perhaps\n      // the inequality operator itself should be a function passed into this\n      const pathsJustCrossed = upper < lower && !ineqFalse\n      const pathsJustUncrossed = upper > lower && ineqFalse\n\n      if (pathsJustCrossed) {\n        ineqFalse = true\n\n        if (upperTmp && lowerTmp) {\n          const midX = (prevX + x) / 2\n          const midUpper = (prevUpper + upper) / 2\n          const midLower = (prevLower + lower) / 2\n          const midY = (midUpper + midLower) / 2\n          upperTmp += ` ${pointToString(midX, midY)} L `\n          lowerTmp = ` ${pointToString(midX, midY)} L ` + lowerTmp\n\n          result.fill += ` M ${upperTmp} ${lowerTmp.substring(0, lowerTmp.length - 2)} z `\n          result.upper += ` M ${upperTmp.substring(0, upperTmp.length - 2)} `\n          result.lower += ` M ${lowerTmp.substring(0, lowerTmp.length - 2)} `\n          upperTmp = \"\"\n          lowerTmp = \"\"\n        }\n      } else if (pathsJustUncrossed) {\n        ineqFalse = false\n        const midX = (prevX + x) / 2\n        const midUpper = (prevUpper + upper) / 2\n        const midLower = (prevLower + lower) / 2\n        const midY = (midUpper + midLower) / 2\n        upperTmp += ` ${pointToString(midX, midY)} L `\n        lowerTmp = ` ${pointToString(midX, midY)} L ` + lowerTmp\n      }\n\n      if (!ineqFalse) {\n        if (Number.isFinite(upper)) {\n          upperTmp = upperTmp + ` ${pointToString(x, upper)} L `\n        }\n        if (Number.isFinite(lower)) {\n          lowerTmp = ` ${pointToString(x, lower)} L ` + lowerTmp\n        }\n      }\n\n      prevX = x\n      prevUpper = upper\n      prevLower = lower\n    },\n  })\n\n  // Push on the remaining upper and lower tmps, if any\n  if (upperTmp && lowerTmp) {\n    result.fill += ` M ${upperTmp} ${lowerTmp.substring(0, lowerTmp.length - 2)} z `\n    result.lower += ` M ${lowerTmp.substring(0, lowerTmp.length - 2)} `\n    result.upper += ` M ${upperTmp.substring(0, upperTmp.length - 2)} `\n  }\n\n  return result\n}\n", "export const Theme = {\n  foreground: \"var(--mafs-fg)\",\n  background: \"var(--mafs-bg)\",\n\n  red: \"var(--mafs-red)\",\n  orange: \"var(--mafs-orange)\",\n  green: \"var(--mafs-green)\",\n  blue: \"var(--mafs-blue)\",\n  indigo: \"var(--mafs-indigo)\",\n  violet: \"var(--mafs-violet)\",\n  pink: \"var(--mafs-pink)\",\n  yellow: \"var(--mafs-yellow)\",\n}\n\nexport interface Filled {\n  color?: string\n  weight?: number\n  fillOpacity?: number\n  strokeOpacity?: number\n  strokeStyle?: \"solid\" | \"dashed\"\n}\n\nexport interface Stroked {\n  color?: string\n  opacity?: number\n  weight?: number\n  style?: \"solid\" | \"dashed\"\n}\n", "import { clamp } from \"../../math\"\nimport { vec } from \"../../vec\"\nimport { usePaneContext } from \"../../context/PaneContext\"\nimport { Theme } from \"../Theme\"\nimport { useTransformContext } from \"../../context/TransformContext\"\n\nexport interface VectorFieldProps {\n  xy: (point: vec.Vector2) => vec.Vector2\n  xyOpacity?: (point: vec.Vector2) => number\n  step: number\n  opacityStep?: number\n  color?: string\n}\n\nconst xyOpacityDefault = () => 1\n\nexport function VectorField({\n  xy,\n  step = 1,\n  xyOpacity = xyOpacityDefault,\n  opacityStep = xyOpacity === xyOpacityDefault ? 1 : 0.2,\n  color = Theme.foreground,\n}: VectorFieldProps) {\n  const { viewTransform: pixelMatrix } = useTransformContext()\n  const { xPanes, yPanes } = usePaneContext()\n\n  //Impose restrictions on opacityStep\n  opacityStep = Math.min(1, Math.max(0.01, opacityStep))\n  //Calculate granularity from step\n  const opacityGrainularity = Math.ceil(1 / opacityStep)\n  //Create layers\n  const layers = generateOpacityLayers(opacityGrainularity)\n\n  function fieldForRegion(xMin: number, xMax: number, yMin: number, yMax: number) {\n    for (let x = Math.floor(xMin); x <= Math.ceil(xMax); x += step) {\n      for (let y = Math.floor(yMin); y <= Math.ceil(yMax); y += step) {\n        const tail: vec.Vector2 = [x, y]\n        const trueOffset = xy([x, y])\n        const trueMag = vec.mag(trueOffset)\n        const scaledOffset = vec.scale(vec.normalize(trueOffset), Math.min(trueMag, step * 0.75))\n        const tip = vec.add(tail, scaledOffset)\n\n        const pixelTail = vec.transform(tail, pixelMatrix)\n        const pixelTipOffset = vec.transform(scaledOffset, pixelMatrix)\n        const pixelSize = vec.mag(pixelTipOffset)\n        const pixelTip = vec.transform(tip, pixelMatrix)\n\n        const arrowVector = vec.scale(vec.normalize(pixelTipOffset), Math.min(pixelSize, 5))\n        const left = vec.add(pixelTip, vec.rotate(arrowVector, (5 / 6) * Math.PI))\n        const right = vec.add(pixelTip, vec.rotate(arrowVector, -(5 / 6) * Math.PI))\n\n        const trueOpacity = xyOpacity([x, y])\n        const layer = findClosetLayer(layers, trueOpacity)\n        layer.d +=\n          ` M ${pixelTail[0]} ${pixelTail[1]}` +\n          ` L ${pixelTip[0]} ${pixelTip[1]} ` +\n          ` L ${left[0]} ${left[1]} ` +\n          ` L ${right[0]} ${right[1]} ` +\n          ` L ${pixelTip[0]} ${pixelTip[1]} `\n      }\n    }\n  }\n\n  for (const [xMin, xMax] of xPanes) {\n    for (const [yMin, yMax] of yPanes) {\n      fieldForRegion(xMin, xMax, yMin, yMax)\n    }\n  }\n\n  return (\n    <>\n      {layers.map((layer, index) => (\n        <path\n          d={layer.d}\n          key={index}\n          style={{\n            stroke: color,\n            fill: color,\n            opacity: layer.opacity,\n            fillOpacity: layer.opacity,\n            strokeOpacity: layer.opacity,\n          }}\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n      ))}\n    </>\n  )\n}\n\ninterface Layer {\n  d: string\n  opacity: number\n}\n\n/**\n * Generates a list of layers. Each layer will eventually be convereted to a <path>\n * with a certain opacity.\n *\n * The higher the opacityGrainularity, the more fidelity you get accross opacities,\n * however the more layers you have, the more lag you get.\n *\n * @param opacityGrainularity the granulity of the opacity layers\n * @returns a list of layers\n */\nfunction generateOpacityLayers(opacityGrainularity: number): Layer[] {\n  const layers: Layer[] = []\n  const step = 1 / opacityGrainularity\n  for (let i = 1; i > 0; i -= step) {\n    const layer: Layer = {\n      d: \"\",\n      opacity: i,\n    }\n    layers.push(layer)\n  }\n  return layers\n}\n\n/**\n * Takes in a pointOpacity (a number) and returns the layer it belongs to from layers.\n *\n * @param layers the layers to catagorize pointOpacity to.\n * @param pointOpacity the opacity to categorize to a layer.\n * @return the layer that this opacity value belongs to.\n */\nfunction findClosetLayer(layers: Layer[], pointOpacity: number): Layer {\n  pointOpacity = clamp(pointOpacity, 0, 1)\n  const index = layers.length - 1 - Math.round(pointOpacity * (layers.length - 1))\n  return layers[index]\n}\n", "import * as React from \"react\"\nimport { Theme } from \"../Theme\"\nimport { sampleInequality } from \"./PlotUtils\"\nimport { usePaneContext } from \"../../context/PaneContext\"\nimport invariant from \"tiny-invariant\"\nimport { vec } from \"../../vec\"\n\nconst enum BoundType {\n  UNBOUNDED = 0,\n  EQUAL,\n  INEQUAL,\n}\n\ntype FnX = ((x: number) => number) | number\ntype FnY = ((y: number) => number) | number\n\nexport interface InequalityProps {\n  y?: { \">\"?: FnX; \"<=\"?: FnX; \"<\"?: FnX; \">=\"?: FnX }\n  x?: { \">\"?: FnY; \"<=\"?: FnY; \"<\"?: FnY; \">=\"?: FnY }\n  color?: string\n  weight?: number\n  strokeColor?: string\n  strokeOpacity?: number\n  fillColor?: string\n  fillOpacity?: number\n\n  minSamplingDepth?: number\n  maxSamplingDepth?: number\n\n  upperColor?: string\n  upperOpacity?: number\n  upperWeight?: number\n  lowerColor?: string\n  lowerOpacity?: number\n  lowerWeight?: number\n\n  svgUpperPathProps?: React.SVGProps<SVGPathElement>\n  svgLowerPathProps?: React.SVGProps<SVGPathElement>\n  svgFillPathProps?: React.SVGProps<SVGPathElement>\n}\n\nexport function Inequality({\n  x,\n  y,\n  color = Theme.foreground,\n  weight = 2,\n  strokeColor = color,\n  strokeOpacity = 1.0,\n  fillColor = color,\n  fillOpacity = 0.15,\n\n  minSamplingDepth = 10,\n  maxSamplingDepth = 14,\n\n  upperColor = strokeColor,\n  upperOpacity = strokeOpacity,\n  upperWeight = weight,\n  lowerColor = strokeColor,\n  lowerOpacity = strokeOpacity,\n  lowerWeight = weight,\n\n  svgUpperPathProps = {},\n  svgLowerPathProps = {},\n  svgFillPathProps = {},\n}: InequalityProps) {\n  const {\n    xPaneRange: [xMin, xMax],\n    yPaneRange: [yMin, yMax],\n  } = usePaneContext()\n\n  const domain: vec.Vector2 = y ? [xMin, xMax] : [yMin, yMax]\n  const range: vec.Vector2 = y ? [yMin, yMax] : [xMin, xMax]\n  const fn = y ? y : x\n\n  invariant(\n    fn && (x === undefined) !== (y === undefined),\n    \"You must pass either an x or y set of functions to Inequality (but not both)\"\n  )\n\n  // Make sure only valid combinations of inequality operators are passed\n  invariant(\n    (fn[\"<\"] === undefined || fn[\"<=\"] === undefined) &&\n      (fn[\">\"] === undefined || fn[\">=\"] === undefined),\n    \"You cannot pass both an inequality and an equality operator to Inequality\"\n  )\n\n  let upperBoundType = BoundType.UNBOUNDED\n  if (\"<=\" in fn) upperBoundType = BoundType.EQUAL\n  if (\"<\" in fn) upperBoundType = BoundType.INEQUAL\n\n  let lowerBoundType = BoundType.UNBOUNDED\n  if (\">=\" in fn) lowerBoundType = BoundType.EQUAL\n  if (\">\" in fn) lowerBoundType = BoundType.INEQUAL\n\n  let greaterFn = fn[\"<\"] ?? fn[\"<=\"] ?? (() => range[1])\n  let lesserFn = fn[\">\"] ?? fn[\">=\"] ?? (() => range[0])\n\n  if (typeof greaterFn === \"number\") {\n    const greater = greaterFn\n    greaterFn = () => greater\n  }\n  if (typeof lesserFn === \"number\") {\n    const lesser = lesserFn\n    lesserFn = () => lesser\n  }\n\n  const svgPath = sampleInequality(\n    y ? \"x\" : \"y\",\n    greaterFn,\n    lesserFn,\n    domain,\n    minSamplingDepth,\n    maxSamplingDepth,\n    0.1\n  )\n\n  return (\n    <g>\n      <path\n        d={svgPath.fill}\n        style={{\n          fill: fillColor || \"var(--mafs-fg)\",\n          fillOpacity,\n          stroke: \"none\",\n          transform: \"var(--mafs-view-transform)\",\n          vectorEffect: \"non-scaling-stroke\",\n          ...svgFillPathProps?.style,\n        }}\n        {...svgFillPathProps}\n      />\n\n      {upperBoundType != BoundType.UNBOUNDED && (\n        <path\n          d={svgPath.upper}\n          strokeWidth={upperWeight}\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeDasharray={upperBoundType === BoundType.INEQUAL ? \"4,8\" : \"\"}\n          style={{\n            fill: \"none\",\n            stroke: upperColor,\n            strokeOpacity: upperOpacity,\n            transform: \"var(--mafs-view-transform)\",\n            vectorEffect: \"non-scaling-stroke\",\n            ...svgUpperPathProps?.style,\n          }}\n          {...svgUpperPathProps}\n        />\n      )}\n\n      {lowerBoundType != BoundType.UNBOUNDED && (\n        <path\n          d={svgPath.lower}\n          strokeWidth={lowerWeight}\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeDasharray={lowerBoundType === BoundType.INEQUAL ? \"4,8\" : \"\"}\n          style={{\n            fill: \"none\",\n            stroke: lowerColor,\n            strokeOpacity: lowerOpacity,\n            transform: \"var(--mafs-view-transform)\",\n            vectorEffect: \"non-scaling-stroke\",\n            ...svgLowerPathProps?.style,\n          }}\n          {...svgLowerPathProps}\n        />\n      )}\n    </g>\n  )\n}\n", "import { OfX, OfY } from \"./Plot/Simple\"\nimport { Parametric } from \"./Plot/Parametric\"\nimport { VectorField } from \"./Plot/VectorField\"\nimport { Inequality } from \"./Plot/Inequality\"\n\nexport const Plot = {\n  OfX,\n  OfY,\n  Parametric,\n  VectorField,\n  Inequality,\n}\n\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nPlot.OfX.displayName = \"Plot.OfX\"\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nPlot.OfY.displayName = \"Plot.OfY\"\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nPlot.Parametric.displayName = \"Plot.Parametric\"\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nPlot.VectorField.displayName = \"Plot.VectorField\"\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nPlot.Inequality.displayName = \"Plot.Inequality\"\n\nimport type { InequalityProps } from \"./Plot/Inequality\"\nimport type { OfXProps, OfYProps } from \"./Plot/Simple\"\nimport type { ParametricProps } from \"./Plot/Parametric\"\nimport type { VectorFieldProps } from \"./Plot/VectorField\"\nexport type { InequalityProps, OfXProps, OfYProps, ParametricProps, VectorFieldProps }\n", "import { Stroked, Theme } from \"../../display/Theme\"\nimport { useTransformContext } from \"../../context/TransformContext\"\nimport { round } from \"../../math\"\nimport { vec } from \"../../vec\"\nimport { usePaneContext } from \"../../context/PaneContext\"\n\nexport interface ThroughPointsProps extends Stroked {\n  point1: vec.Vector2\n  point2: vec.Vector2\n}\n\nexport function ThroughPoints({\n  point1,\n  point2,\n  color = Theme.foreground,\n  style = \"solid\",\n  weight = 2,\n  opacity = 1.0,\n}: ThroughPointsProps) {\n  const { xPaneRange, yPaneRange } = usePaneContext()\n  const [xMin, xMax] = xPaneRange\n  const [yMin, yMax] = yPaneRange\n\n  const { userTransform } = useTransformContext()\n\n  const tPoint1 = vec.transform(point1, userTransform)\n  const tPoint2 = vec.transform(point2, userTransform)\n\n  const slope = (tPoint2[1] - tPoint1[1]) / (tPoint2[0] - tPoint1[0])\n\n  let offscreen1: vec.Vector2\n  let offscreen2: vec.Vector2\n\n  if (Math.abs(Math.atan(slope)) > Math.PI / 4) {\n    offscreen1 = [(yMin - tPoint1[1]) / slope + tPoint1[0], yMin]\n    offscreen2 = [(yMax - tPoint1[1]) / slope + tPoint1[0], yMax]\n  } else {\n    offscreen1 = [xMin, slope * (xMin - tPoint1[0]) + tPoint1[1]]\n    offscreen2 = [xMax, slope * (xMax - tPoint1[0]) + tPoint1[1]]\n  }\n\n  return (\n    <line\n      x1={round(offscreen1[0], 2)}\n      y1={round(offscreen1[1], 2)}\n      x2={round(offscreen2[0], 2)}\n      y2={round(offscreen2[1], 2)}\n      style={{\n        stroke: color,\n        transform: \"var(--mafs-view-transform)\",\n        vectorEffect: \"non-scaling-stroke\",\n      }}\n      strokeWidth={weight}\n      opacity={opacity}\n      strokeDasharray={style === \"dashed\" ? \"4,3\" : undefined}\n    />\n  )\n}\n", "import { Stroked } from \"../../display/Theme\"\nimport { vec } from \"../../vec\"\nimport { ThroughPoints } from \"./ThroughPoints\"\n\nexport interface PointAngleProps extends Stroked {\n  point: vec.Vector2\n  angle: number\n}\n\nexport function PointAngle({ point, angle, ...rest }: PointAngleProps) {\n  const point2 = vec.add(point, vec.rotate([1, 0], angle))\n  return <ThroughPoints point1={point} point2={point2} {...rest} />\n}\n", "import { Stroked } from \"../../display/Theme\"\nimport { vec } from \"../../vec\"\nimport { PointAngle } from \"./PointAngle\"\n\nexport interface PointSlopeProps extends Stroked {\n  point: vec.Vector2\n  slope: number\n}\n\nexport function PointSlope({ point, slope, ...rest }: PointSlopeProps) {\n  return <PointAngle point={point} angle={Math.atan(slope)} {...rest} />\n}\n", "import { Stroked, Theme } from \"../../display/Theme\"\nimport { useTransformContext } from \"../../context/TransformContext\"\nimport { round } from \"../../math\"\nimport { vec } from \"../../vec\"\n\nexport interface SegmentProps extends Stroked {\n  point1: vec.Vector2\n  point2: vec.Vector2\n}\n\nexport function Segment({\n  point1,\n  point2,\n  color = Theme.foreground,\n  style = \"solid\",\n  weight = 2,\n  opacity = 1.0,\n}: SegmentProps) {\n  const { viewTransform: pixelMatrix, userTransform } = useTransformContext()\n  const transform = vec.matrixMult(pixelMatrix, userTransform)\n\n  const scaledPoint1 = vec.transform(point1, transform)\n  const scaledPoint2 = vec.transform(point2, transform)\n\n  return (\n    <line\n      x1={round(scaledPoint1[0], 2)}\n      y1={round(scaledPoint1[1], 2)}\n      x2={round(scaledPoint2[0], 2)}\n      y2={round(scaledPoint2[1], 2)}\n      style={{ stroke: color }}\n      strokeWidth={weight}\n      opacity={opacity}\n      strokeDasharray={style === \"dashed\" ? \"1,10\" : undefined}\n    />\n  )\n}\n\nexport default Segment\n", "import { PointAngle } from \"./Line/PointAngle\"\nimport { PointSlope } from \"./Line/PointSlope\"\nimport { ThroughPoints } from \"./Line/ThroughPoints\"\nimport { Segment } from \"./Line/Segment\"\n\nexport const Line = {\n  PointAngle,\n  PointSlope,\n  ThroughPoints,\n  Segment,\n}\n\nimport type { PointAngleProps } from \"./Line/PointAngle\"\nimport type { PointSlopeProps } from \"./Line/PointSlope\"\nimport type { ThroughPointsProps } from \"./Line/ThroughPoints\"\nimport type { SegmentProps } from \"./Line/Segment\"\nexport type { PointAngleProps, PointSlopeProps, ThroughPointsProps, SegmentProps }\n\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nLine.PointAngle.displayName = \"Line.PointAngle\"\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nLine.PointSlope.displayName = \"Line.PointSlope\"\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nLine.Segment.displayName = \"Line.Segment\"\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nLine.ThroughPoints.displayName = \"Line.ThroughPoints\"\n", "import * as React from \"react\"\nimport { Filled, Theme } from \"./Theme\"\nimport { useTransformContext } from \"../context/TransformContext\"\nimport { vec } from \"../vec\"\n\nexport interface EllipseProps extends Filled {\n  center: vec.Vector2\n  radius: vec.Vector2\n  angle?: number\n  svgEllipseProps?: React.SVGProps<SVGEllipseElement>\n}\n\nexport function Ellipse({\n  center,\n  radius,\n  angle = 0,\n  strokeStyle = \"solid\",\n  strokeOpacity = 1.0,\n  weight = 2,\n  color = Theme.foreground,\n  fillOpacity = 0.15,\n  svgEllipseProps = {},\n}: EllipseProps) {\n  const { viewTransform: toPx, userTransform } = useTransformContext()\n\n  const transform = vec\n    .matrixBuilder()\n    .translate(...center)\n    .mult(userTransform)\n    .scale(1, -1)\n    .mult(toPx)\n    .scale(1, -1)\n    .get()\n\n  const cssTransform = `\n    ${vec.toCSS(transform)}\n    rotate(${angle * (180 / Math.PI)})\n  `\n\n  return (\n    <ellipse\n      cx={0}\n      cy={0}\n      rx={radius[0]}\n      ry={radius[1]}\n      strokeWidth={weight}\n      strokeDasharray={strokeStyle === \"dashed\" ? \"4,3\" : undefined}\n      transform={cssTransform}\n      {...svgEllipseProps}\n      style={{\n        stroke: color,\n        fill: color,\n        fillOpacity,\n        strokeOpacity,\n        vectorEffect: \"non-scaling-stroke\",\n        ...(svgEllipseProps.style || {}),\n      }}\n    />\n  )\n}\n\nEllipse.displayName = \"Ellipse\"\n", "import { Filled } from \"./Theme\"\nimport { Ellipse } from \"./Ellipse\"\nimport { vec } from \"../vec\"\nimport type * as React from \"react\"\n\nexport interface CircleProps extends Filled {\n  center: vec.Vector2\n  radius: number\n  svgEllipseProps?: React.SVGProps<SVGEllipseElement>\n}\n\nexport function Circle({ radius, ...rest }: CircleProps) {\n  return <Ellipse radius={[radius, radius]} {...rest} />\n}\n\nCircle.displayName = \"Circle\"\n", "import * as React from \"react\"\nimport { Filled, Theme } from \"./Theme\"\nimport { vec } from \"../vec\"\nimport { useTransformContext } from \"../context/TransformContext\"\n\ntype SVGPolyProps<T extends \"polygon\" | \"polyline\"> = T extends \"polygon\"\n  ? React.SVGProps<SVGPolygonElement>\n  : React.SVGProps<SVGPolylineElement>\n\nexport interface PolyBaseProps extends Filled {\n  points: vec.Vector2[]\n}\n\ninterface PolyBaseInternalProps<T extends \"polygon\" | \"polyline\"> extends PolyBaseProps {\n  element: T\n  svgPolyProps?: SVGPolyProps<T>\n}\n\nexport function PolyBase({\n  element: PolyElement,\n  points,\n  color = Theme.foreground,\n  weight = 2,\n  fillOpacity = 0.15,\n  strokeOpacity = 1.0,\n  strokeStyle = \"solid\",\n  svgPolyProps = {},\n}: PolyBaseInternalProps<\"polygon\"> | PolyBaseInternalProps<\"polyline\">) {\n  const { userTransform } = useTransformContext()\n\n  const scaledPoints = points\n    .map((point) => vec.transform(point, userTransform).join(\" \"))\n    .join(\" \")\n\n  return (\n    <PolyElement\n      points={scaledPoints}\n      strokeWidth={weight}\n      fillOpacity={fillOpacity}\n      strokeDasharray={strokeStyle === \"dashed\" ? \"4,3\" : undefined}\n      strokeLinejoin=\"round\"\n      {...svgPolyProps}\n      style={{\n        fill: color,\n        fillOpacity,\n        stroke: color,\n        strokeOpacity,\n        vectorEffect: \"non-scaling-stroke\",\n        transform: \"var(--mafs-view-transform)\",\n        ...(svgPolyProps.style || {}),\n      }}\n    />\n  )\n}\n", "import * as React from \"react\"\nimport { PolyBase, PolyBaseProps } from \"./PolyBase\"\n\nexport interface PolygonProps extends PolyBaseProps {\n  svgPolygonProps?: React.SVGProps<SVGPolygonElement>\n}\n\nexport function Polygon({ svgPolygonProps, ...otherProps }: PolygonProps) {\n  return <PolyBase element=\"polygon\" svgPolyProps={svgPolygonProps} {...otherProps} />\n}\n\nPolygon.displayName = \"Polygon\"\n", "import * as React from \"react\"\nimport { PolyBase, PolyBaseProps } from \"./PolyBase\"\n\nexport interface PolylineProps extends PolyBaseProps {\n  svgPolylineProps?: React.SVGProps<SVGPolylineElement>\n}\n\nexport function Polyline({ fillOpacity = 0, svgPolylineProps, ...otherProps }: PolylineProps) {\n  return (\n    <PolyBase\n      element=\"polyline\"\n      fillOpacity={fillOpacity}\n      svgPolyProps={svgPolylineProps}\n      {...otherProps}\n    />\n  )\n}\n\nPolyline.displayName = \"Polyline\"\n", "import * as React from \"react\"\nimport { useTransformContext } from \"../context/TransformContext\"\nimport { Theme } from \"./Theme\"\nimport { vec } from \"../vec\"\n\nexport interface PointProps {\n  x: number\n  y: number\n  color?: string\n  opacity?: number\n  svgCircleProps?: React.SVGProps<SVGCircleElement>\n}\n\nexport function Point({\n  x,\n  y,\n  color = Theme.foreground,\n  opacity = 1,\n  svgCircleProps = {},\n}: PointProps) {\n  const { viewTransform: pixelMatrix, userTransform: transform } = useTransformContext()\n\n  const [cx, cy] = vec.transform([x, y], vec.matrixMult(pixelMatrix, transform))\n\n  return (\n    <circle\n      cx={cx}\n      cy={cy}\n      r={6}\n      {...svgCircleProps}\n      style={{ fill: color, opacity, ...svgCircleProps.style }}\n    />\n  )\n}\n\nPoint.displayName = \"Point\"\n", "import * as React from \"react\"\nimport { Stroked } from \"../display/Theme\"\nimport { Theme } from \"./Theme\"\nimport { vec } from \"../vec\"\nimport { useTransformContext } from \"../context/TransformContext\"\n\n// This is sort of a hack\u2014every SVG pattern on a page needs a unique ID, otherwise they conflict.\nlet incrementer = 0\n\nexport interface VectorProps extends Stroked {\n  tail?: vec.Vector2\n  tip: vec.Vector2\n  svgLineProps?: React.SVGProps<SVGLineElement>\n}\n\nexport function Vector({\n  tail = [0, 0],\n  tip,\n  color = Theme.foreground,\n  weight = 2,\n  style = \"solid\",\n  opacity = 1.0,\n  svgLineProps = {},\n}: VectorProps) {\n  const { userTransform, viewTransform } = useTransformContext()\n  const combinedTransform = vec.matrixMult(viewTransform, userTransform)\n\n  const pixelTail = vec.transform(tail, combinedTransform)\n  const pixelTip = vec.transform(tip, combinedTransform)\n\n  const id = React.useMemo(() => `mafs-triangle-${incrementer++}`, [])\n\n  return (\n    <>\n      <defs>\n        <marker id={id} markerWidth=\"8\" markerHeight=\"8\" refX=\"8\" refY=\"4\" orient=\"auto\">\n          <path d=\"M 0 0 L 8 4 L 0 8 z\" fill={color || \"var(--mafs-fg)\"} />\n        </marker>\n      </defs>\n      <line\n        x1={pixelTail[0]}\n        y1={pixelTail[1]}\n        x2={pixelTip[0]}\n        y2={pixelTip[1]}\n        strokeWidth={weight}\n        markerEnd={`url(#${id})`}\n        strokeDasharray={style === \"dashed\" ? \"4,3\" : undefined}\n        {...svgLineProps}\n        style={{\n          stroke: color || \"var(--mafs-fg)\",\n          strokeOpacity: opacity,\n          ...(svgLineProps?.style || {}),\n          vectorEffect: \"non-scaling-stroke\",\n        }}\n      />\n    </>\n  )\n}\n\nVector.displayName = \"Vector\"\n", "import * as React from \"react\"\nimport { vec } from \"../vec\"\nimport { useTransformContext } from \"../context/TransformContext\"\n\nexport type CardinalDirection = \"n\" | \"ne\" | \"e\" | \"se\" | \"s\" | \"sw\" | \"w\" | \"nw\"\n\nexport type TextProps = React.PropsWithChildren<{\n  x: number\n  y: number\n  attach?: CardinalDirection\n  attachDistance?: number\n  size?: number\n  color?: string\n  svgTextProps?: React.SVGAttributes<SVGTextElement>\n}>\n\nexport function Text({\n  children,\n  x,\n  y,\n  color,\n  size = 30,\n  svgTextProps = {},\n  attach,\n  attachDistance = 0,\n}: TextProps) {\n  const { viewTransform: pixelMatrix, userTransform: transformContext } = useTransformContext()\n\n  let xOffset = 0\n  let textAnchor: React.SVGProps<SVGTextElement>[\"textAnchor\"] = \"middle\"\n  if (attach?.includes(\"w\")) {\n    textAnchor = \"end\"\n    xOffset = -1\n  } else if (attach?.includes(\"e\")) {\n    textAnchor = \"start\"\n    xOffset = 1\n  }\n\n  let yOffset = 0\n  let dominantBaseline: React.SVGProps<SVGTextElement>[\"dominantBaseline\"] = \"middle\"\n  if (attach?.includes(\"n\")) {\n    dominantBaseline = \"baseline\"\n    yOffset = 1\n  } else if (attach?.includes(\"s\")) {\n    dominantBaseline = \"hanging\"\n    yOffset = -1\n  }\n\n  let [pixelX, pixelY] = [0, 0]\n  if (xOffset !== 0 || yOffset !== 0) {\n    ;[pixelX, pixelY] = vec.withMag([xOffset, yOffset], attachDistance)\n  }\n\n  const center = vec.transform([x, y], vec.matrixMult(pixelMatrix, transformContext))\n\n  return (\n    <text\n      x={center[0] + pixelX}\n      y={center[1] + pixelY}\n      fontSize={size}\n      dominantBaseline={dominantBaseline}\n      textAnchor={textAnchor}\n      style={{\n        fill: color || \"var(--mafs-fg)\",\n        vectorEffect: \"non-scaling-stroke\",\n      }}\n      className=\"mafs-shadow\"\n      {...svgTextProps}\n    >\n      {children}\n    </text>\n  )\n}\n\nText.displayName = \"Text\"\n\nexport default Text\n", "import { useDrag } from \"@use-gesture/react\"\nimport * as React from \"react\"\nimport invariant from \"tiny-invariant\"\nimport { Theme } from \"../display/Theme\"\nimport { range } from \"../math\"\nimport { vec } from \"../vec\"\nimport { useTransformContext } from \"../context/TransformContext\"\nimport { useSpanContext } from \"../context/SpanContext\"\n\nexport type ConstraintFunction = (position: vec.Vector2) => vec.Vector2\n\nexport interface MovablePointProps {\n  /** The current position `[x, y]` of the point. */\n  point: vec.Vector2\n  /** A callback that is called as the user moves the point. */\n  onMove: (point: vec.Vector2) => void\n  /**\n   * Constrain the point to only horizontal movement, vertical movement, or mapped movement.\n   *\n   * In mapped movement mode, you must provide a function that maps the user's mouse position\n   * `[x, y]` to the position the point should \"snap\" to.\n   */\n  constrain?: ConstraintFunction\n  color?: string\n}\n\nexport function MovablePoint({\n  point,\n  onMove,\n  constrain = (point) => point,\n  color = Theme.pink,\n}: MovablePointProps) {\n  const { viewTransform, userTransform } = useTransformContext()\n  const { xSpan, ySpan } = useSpanContext()\n  const inverseViewTransform = vec.matrixInvert(viewTransform)\n  invariant(inverseViewTransform, \"The view transform must be invertible.\")\n\n  const inverseTransform = React.useMemo(() => getInverseTransform(userTransform), [userTransform])\n\n  const combinedTransform = React.useMemo(\n    () => vec.matrixMult(viewTransform, userTransform),\n    [viewTransform, userTransform]\n  )\n\n  const [dragging, setDragging] = React.useState(false)\n  const [displayX, displayY] = vec.transform(point, combinedTransform)\n\n  const pickup = React.useRef<vec.Vector2>([0, 0])\n\n  const ref = React.useRef<SVGGElement>(null)\n\n  useDrag(\n    (state) => {\n      const { type, event } = state\n      event?.stopPropagation()\n\n      const isKeyboard = type.includes(\"key\")\n      if (isKeyboard) {\n        event?.preventDefault()\n        const { direction: yDownDirection, altKey, metaKey, shiftKey } = state\n\n        const direction = [yDownDirection[0], -yDownDirection[1]] as vec.Vector2\n        const span = Math.abs(direction[0]) ? xSpan : ySpan\n\n        let divisions = 50\n        if (altKey || metaKey) divisions = 200\n        if (shiftKey) divisions = 10\n\n        const min = span / (divisions * 2)\n        const tests = range(span / divisions, span / 2, span / divisions)\n\n        for (const dx of tests) {\n          // Transform the test back into the point's coordinate system\n          const testMovement = vec.scale(direction, dx)\n          const testPoint = constrain(\n            vec.transform(\n              vec.add(vec.transform(point, userTransform), testMovement),\n              inverseTransform\n            )\n          )\n\n          if (vec.dist(testPoint, point) > min) {\n            onMove(testPoint)\n            break\n          }\n        }\n      } else {\n        const { last, movement: pixelMovement, first } = state\n\n        setDragging(!last)\n\n        if (first) pickup.current = vec.transform(point, userTransform)\n        if (vec.mag(pixelMovement) === 0) return\n\n        const movement = vec.transform(pixelMovement, inverseViewTransform)\n        onMove(constrain(vec.transform(vec.add(pickup.current, movement), inverseTransform)))\n      }\n    },\n    { target: ref, eventOptions: { passive: false } }\n  )\n\n  const ringSize = 15\n\n  return (\n    <g\n      ref={ref}\n      style={\n        {\n          \"--movable-point-color\": color,\n          \"--movable-point-ring-size\": `${ringSize}px`,\n        } as React.CSSProperties\n      }\n      className={`mafs-movable-point ${dragging ? \"mafs-movable-point-dragging\" : \"\"}`}\n      tabIndex={0}\n    >\n      <circle className=\"mafs-movable-point-hitbox\" r={30} cx={displayX} cy={displayY}></circle>\n      <circle\n        className=\"mafs-movable-point-focus\"\n        r={ringSize + 1}\n        cx={displayX}\n        cy={displayY}\n      ></circle>\n      <circle className=\"mafs-movable-point-ring\" r={ringSize} cx={displayX} cy={displayY}></circle>\n      <circle className=\"mafs-movable-point-point\" r={6} cx={displayX} cy={displayY}></circle>\n    </g>\n  )\n}\n\nMovablePoint.displayName = \"MovablePoint\"\n\nfunction getInverseTransform(transform: vec.Matrix) {\n  const invert = vec.matrixInvert(transform)\n  invariant(\n    invert !== null,\n    \"Could not invert transform matrix. Your movable point's transformation matrix might be degenerative (mapping 2D space to a line).\"\n  )\n  return invert\n}\n", "import * as React from \"react\"\nimport { Theme } from \"../display/Theme\"\nimport { vec } from \"../vec\"\nimport { MovablePoint } from \"./MovablePoint\"\n\nexport type ConstraintFunction = (position: vec.Vector2) => vec.Vector2\n\nexport interface UseMovablePointArguments {\n  color?: string\n\n  /**\n   * Constrain the point to only horizontal movement, vertical movement, or mapped movement.\n   *\n   * In mapped movement mode, you must provide a function that maps the user's attempted position\n   * (x, y) to the position the point should \"snap\" to.\n   */\n  constrain?: \"horizontal\" | \"vertical\" | ConstraintFunction\n}\n\nexport interface UseMovablePoint {\n  x: number\n  y: number\n  point: vec.Vector2\n  element: React.ReactElement\n  setPoint: (point: vec.Vector2) => void\n}\n\nexport function useMovablePoint(\n  initialPoint: vec.Vector2,\n  { constrain, color = Theme.pink }: UseMovablePointArguments = {}\n): UseMovablePoint {\n  const [initialX, initialY] = initialPoint\n  const [point, setPoint] = React.useState<vec.Vector2>(initialPoint)\n  const [x, y] = point\n\n  const constraintFunction: ConstraintFunction = React.useMemo(() => {\n    if (constrain === \"horizontal\") {\n      return ([x]) => [x, initialY]\n    } else if (constrain === \"vertical\") {\n      return ([, y]) => [initialX, y]\n    } else if (typeof constrain === \"function\") {\n      return constrain\n    }\n\n    return ([x, y]) => [x, y]\n  }, [constrain, initialX, initialY])\n\n  const element = React.useMemo(() => {\n    return <MovablePoint {...{ point, color }} constrain={constraintFunction} onMove={setPoint} />\n  }, [point, color, constraintFunction])\n\n  return {\n    x,\n    y,\n    point: [x, y],\n    element,\n    setPoint,\n  }\n}\n", "import * as React from \"react\"\n\nexport interface StopwatchArguments {\n  /** The start time in seconds */\n  startTime?: number\n  /** The end time in seconds */\n  endTime?: number\n}\n\nexport interface Stopwatch {\n  /**\n   * The amount of time that has passed since the timer started, in high-precision seconds.\n   */\n  time: number\n  /** Starts the timer (resumes the timer if paused) */\n  start: () => void\n  /** Stops and resets the timer. */\n  stop: () => void\n\n  /** Sets the current time to a certain value.\n   * @throws an error if the time is outside of the given range.\n   */\n  setTime: (time: number) => void\n}\n\nexport function useStopwatch(options?: StopwatchArguments): Stopwatch {\n  const { startTime = 0, endTime = Infinity } = options || {}\n\n  const startClockTime = React.useRef<DOMHighResTimeStamp | null>(null)\n  const [time, setTime] = React.useState(startTime)\n  const [playing, setPlaying] = React.useState(false)\n\n  React.useEffect(() => {\n    let request = -1\n\n    function tick(now: DOMHighResTimeStamp) {\n      now = now / 1000\n\n      if (!startClockTime.current) startClockTime.current = now\n      const deltaTime = now - startClockTime.current\n\n      if (deltaTime >= endTime) {\n        startClockTime.current = null\n        setTime(endTime)\n        setPlaying(false)\n        return\n      }\n\n      setTime(Math.min(deltaTime, endTime))\n      request = window.requestAnimationFrame(tick)\n    }\n\n    if (playing) {\n      request = window.requestAnimationFrame(tick)\n    } else {\n      window.cancelAnimationFrame(request)\n    }\n\n    return () => window.cancelAnimationFrame(request)\n  }, [playing, endTime])\n\n  const start = React.useCallback(() => setPlaying(true), [])\n  const stop = React.useCallback(() => {\n    startClockTime.current = null\n    setPlaying(false)\n    setTime(startTime)\n  }, [startTime])\n\n  return { time, setTime: (time) => setTime(time * 1000), start, stop }\n}\n", "import * as React from \"react\"\nimport { vec } from \"../vec\"\nimport { TransformContext, useTransformContext } from \"../context/TransformContext\"\n\nexport type TransformProps = React.PropsWithChildren<{\n  matrix?: vec.Matrix\n  translate?: vec.Vector2\n  scale?: number | vec.Vector2\n  rotate?: number\n  shear?: vec.Vector2\n}>\n\nexport function Transform(props: TransformProps) {\n  const { userTransform, viewTransform } = useTransformContext()\n\n  let builder = vec.matrixBuilder()\n\n  // Destructure props so that we can iterate over transforms in prop-order\n  const { matrix, children, ...transforms } = props\n\n  if (matrix) builder = builder.mult(matrix)\n\n  for (const [name, value] of Object.entries(transforms)) {\n    if (value == null) continue\n    switch (name) {\n      case \"translate\":\n        builder = builder.translate(...(value as vec.Vector2))\n        break\n      case \"scale\":\n        if (typeof value === \"number\") builder = builder.scale(value, value)\n        else builder = builder.scale(...(value as vec.Vector2))\n        break\n      case \"shear\":\n        builder = builder.shear(...(value as vec.Vector2))\n        break\n      case \"rotate\":\n        builder = builder.rotate(value as number)\n        break\n    }\n  }\n\n  builder = builder.mult(userTransform)\n\n  const newUserTransform = builder.get()\n\n  return (\n    <TransformContext.Provider value={{ userTransform: newUserTransform, viewTransform }}>\n      <g style={{ \"--mafs-user-transform\": vec.toCSS(newUserTransform) } as React.CSSProperties}>\n        {children}\n      </g>\n    </TransformContext.Provider>\n  )\n}\n\nTransform.displayName = \"Transform\"\n", "import { useCoordinateContext } from \"../context/CoordinateContext\"\nimport { usePaneContext } from \"../context/PaneContext\"\nimport { useTransformContext } from \"../context/TransformContext\"\nimport { vec } from \"..\"\n\ninterface PaneVisualizerProps {\n  /** The number of decimal places to which to round the displayed values. */\n  precision?: number\n}\n\nexport function ViewportInfo({ precision = 3 }: PaneVisualizerProps) {\n  const { xMin, xMax, yMin, yMax } = useCoordinateContext()\n  const { viewTransform } = useTransformContext()\n  const { xPanes, yPanes } = usePaneContext()\n\n  const [x, y] = vec.transform([xMin, yMin], viewTransform)\n\n  const xPanesString = xPanes.map((pane) => `(${pane.join(\", \")})`).join(\"   \")\n  const yPanesString = yPanes.map((pane) => `(${pane.join(\", \")})`).join(\"   \")\n\n  return (\n    <g className=\"mafs-shadow\" fontFamily=\"monospace\">\n      <text x={x + 10} y={y - 70}>\n        x: ({xMin.toFixed(precision)}, {xMax.toFixed(precision)})\n      </text>\n      <text x={x + 10} y={y - 50}>\n        y: ({yMin.toFixed(precision)}, {yMax.toFixed(precision)})\n      </text>\n      <text x={x + 10} y={y - 30}>\n        xPanes: {xPanesString}\n      </text>\n      <text x={x + 10} y={y - 10}>\n        yPanes: {yPanesString}\n      </text>\n    </g>\n  )\n}\n", "import * as React from \"react\"\n\nimport { vec } from \"../vec\"\nimport { Theme } from \"../display/Theme\"\nimport { useMovablePoint } from \"../interaction/useMovablePoint\"\nimport { Transform } from \"../display/Transform\"\nimport { Circle } from \"../display/Circle\"\nimport { Polygon } from \"../display/Polygon\"\n\nexport interface TransformWidgetProps {\n  /** The components to transform */\n  children: React.ReactNode\n}\n\nexport function TransformWidget({ children }: TransformWidgetProps) {\n  const t = useMovablePoint([0, 0])\n  const s = useMovablePoint([1, 1], { color: Theme.blue })\n  const r = useMovablePoint([1, 0], {\n    color: Theme.green,\n    constrain: (p) => vec.normalize(p),\n  })\n  const angle = Math.atan2(r.point[1], r.point[0])\n\n  return (\n    <>\n      <Transform translate={t.point}>\n        <Transform rotate={angle}>\n          <Transform scale={s.point}>\n            {children}\n\n            <Polygon\n              points={[\n                [0, 0],\n                [0, 1],\n                [1, 1],\n                [1, 0],\n              ]}\n              color={Theme.blue}\n            />\n          </Transform>\n\n          <Circle\n            center={[0, 0]}\n            radius={1}\n            strokeStyle=\"dashed\"\n            strokeOpacity={0.5}\n            fillOpacity={0}\n            color={Theme.green}\n          />\n\n          {s.element}\n        </Transform>\n\n        {r.element}\n      </Transform>\n\n      {t.element}\n    </>\n  )\n}\n", "import { ViewportInfo } from \"./ViewportInfo\"\nimport { TransformWidget } from \"./TransformWidget\"\n\nexport const Debug = {\n  ViewportInfo,\n  TransformWidget,\n}\n\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nDebug.ViewportInfo.displayName = \"Debug.ViewportInfo\"\n\n// @ts-expect-error - setting these here to avoid invalid .d.ts output\nDebug.TransformWidget.displayName = \"Debug.TransformWidget\"\n", "import * as React from \"react\"\nimport katex, { KatexOptions } from \"katex\"\nimport { vec } from \"../vec\"\nimport { useTransformContext } from \"../context/TransformContext\"\nimport { Theme } from \"./Theme\"\n\ninterface LatexProps {\n  tex: string\n  at: vec.Vector2\n  color?: string\n  katexOptions?: KatexOptions\n}\n\nexport function LaTeX({ at: center, tex, color = Theme.foreground, katexOptions }: LatexProps) {\n  const ref = React.useRef<HTMLSpanElement>(null)\n  const { viewTransform, userTransform } = useTransformContext()\n  const combinedTransform = vec.matrixMult(viewTransform, userTransform)\n\n  // TODO: there's probably a better way to do this but we want to leave plenty\n  // of room for the LaTeX to expand\n  const width = 99999\n  const height = 99999\n\n  React.useEffect(() => {\n    if (!ref.current) return\n    katex.render(tex, ref.current, katexOptions)\n  }, [katexOptions, tex])\n\n  const pixelCenter = vec.add(vec.transform(center, combinedTransform), [-width / 2, -height / 2])\n\n  return (\n    <foreignObject\n      x={pixelCenter[0]}\n      y={pixelCenter[1]}\n      width={width}\n      height={height}\n      pointerEvents=\"none\"\n    >\n      <div\n        style={{\n          fontSize: \"1.3em\",\n          width,\n          height,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          position: \"fixed\",\n          color,\n          textShadow: `, 0 0 2px ${Theme.background}`.repeat(8).slice(2),\n        }}\n      >\n        <span ref={ref} />\n      </div>\n    </foreignObject>\n  )\n}\n", "import { useRef, useEffect, useCallback, useState, useMemo } from 'react';\n\n// This could've been more streamlined with internal state instead of abusing\n// refs to such extent, but then composing hooks and components could not opt out of unnecessary renders.\nfunction useResolvedElement(subscriber, refOrElement) {\n  var lastReportRef = useRef(null);\n  var refOrElementRef = useRef(null);\n  refOrElementRef.current = refOrElement;\n  var cbElementRef = useRef(null); // Calling re-evaluation after each render without using a dep array,\n  // as the ref object's current value could've changed since the last render.\n\n  useEffect(function () {\n    evaluateSubscription();\n  });\n  var evaluateSubscription = useCallback(function () {\n    var cbElement = cbElementRef.current;\n    var refOrElement = refOrElementRef.current; // Ugly ternary. But smaller than an if-else block.\n\n    var element = cbElement ? cbElement : refOrElement ? refOrElement instanceof Element ? refOrElement : refOrElement.current : null;\n\n    if (lastReportRef.current && lastReportRef.current.element === element && lastReportRef.current.subscriber === subscriber) {\n      return;\n    }\n\n    if (lastReportRef.current && lastReportRef.current.cleanup) {\n      lastReportRef.current.cleanup();\n    }\n\n    lastReportRef.current = {\n      element: element,\n      subscriber: subscriber,\n      // Only calling the subscriber, if there's an actual element to report.\n      // Setting cleanup to undefined unless a subscriber returns one, as an existing cleanup function would've been just called.\n      cleanup: element ? subscriber(element) : undefined\n    };\n  }, [subscriber]); // making sure we call the cleanup function on unmount\n\n  useEffect(function () {\n    return function () {\n      if (lastReportRef.current && lastReportRef.current.cleanup) {\n        lastReportRef.current.cleanup();\n        lastReportRef.current = null;\n      }\n    };\n  }, []);\n  return useCallback(function (element) {\n    cbElementRef.current = element;\n    evaluateSubscription();\n  }, [evaluateSubscription]);\n}\n\n// We're only using the first element of the size sequences, until future versions of the spec solidify on how\n// exactly it'll be used for fragments in multi-column scenarios:\n// From the spec:\n// > The box size properties are exposed as FrozenArray in order to support elements that have multiple fragments,\n// > which occur in multi-column scenarios. However the current definitions of content rect and border box do not\n// > mention how those boxes are affected by multi-column layout. In this spec, there will only be a single\n// > ResizeObserverSize returned in the FrozenArray, which will correspond to the dimensions of the first column.\n// > A future version of this spec will extend the returned FrozenArray to contain the per-fragment size information.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-entry-interface)\n//\n// Also, testing these new box options revealed that in both Chrome and FF everything is returned in the callback,\n// regardless of the \"box\" option.\n// The spec states the following on this:\n// > This does not have any impact on which box dimensions are returned to the defined callback when the event\n// > is fired, it solely defines which box the author wishes to observe layout changes on.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-interface)\n// I'm not exactly clear on what this means, especially when you consider a later section stating the following:\n// > This section is non-normative. An author may desire to observe more than one CSS box.\n// > In this case, author will need to use multiple ResizeObservers.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-interface)\n// Which is clearly not how current browser implementations behave, and seems to contradict the previous quote.\n// For this reason I decided to only return the requested size,\n// even though it seems we have access to results for all box types.\n// This also means that we get to keep the current api, being able to return a simple { width, height } pair,\n// regardless of box option.\nfunction extractSize(entry, boxProp, sizeType) {\n  if (!entry[boxProp]) {\n    if (boxProp === \"contentBoxSize\") {\n      // The dimensions in `contentBoxSize` and `contentRect` are equivalent according to the spec.\n      // See the 6th step in the description for the RO algorithm:\n      // https://drafts.csswg.org/resize-observer/#create-and-populate-resizeobserverentry-h\n      // > Set this.contentRect to logical this.contentBoxSize given target and observedBox of \"content-box\".\n      // In real browser implementations of course these objects differ, but the width/height values should be equivalent.\n      return entry.contentRect[sizeType === \"inlineSize\" ? \"width\" : \"height\"];\n    }\n\n    return undefined;\n  } // A couple bytes smaller than calling Array.isArray() and just as effective here.\n\n\n  return entry[boxProp][0] ? entry[boxProp][0][sizeType] : // TS complains about this, because the RO entry type follows the spec and does not reflect Firefox's current\n  // behaviour of returning objects instead of arrays for `borderBoxSize` and `contentBoxSize`.\n  // @ts-ignore\n  entry[boxProp][sizeType];\n}\n\nfunction useResizeObserver(opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  // Saving the callback as a ref. With this, I don't need to put onResize in the\n  // effect dep array, and just passing in an anonymous function without memoising\n  // will not reinstantiate the hook's ResizeObserver.\n  var onResize = opts.onResize;\n  var onResizeRef = useRef(undefined);\n  onResizeRef.current = onResize;\n  var round = opts.round || Math.round; // Using a single instance throughout the hook's lifetime\n\n  var resizeObserverRef = useRef();\n\n  var _useState = useState({\n    width: undefined,\n    height: undefined\n  }),\n      size = _useState[0],\n      setSize = _useState[1]; // In certain edge cases the RO might want to report a size change just after\n  // the component unmounted.\n\n\n  var didUnmount = useRef(false);\n  useEffect(function () {\n    didUnmount.current = false;\n    return function () {\n      didUnmount.current = true;\n    };\n  }, []); // Using a ref to track the previous width / height to avoid unnecessary renders.\n\n  var previous = useRef({\n    width: undefined,\n    height: undefined\n  }); // This block is kinda like a useEffect, only it's called whenever a new\n  // element could be resolved based on the ref option. It also has a cleanup\n  // function.\n\n  var refCallback = useResolvedElement(useCallback(function (element) {\n    // We only use a single Resize Observer instance, and we're instantiating it on demand, only once there's something to observe.\n    // This instance is also recreated when the `box` option changes, so that a new observation is fired if there was a previously observed element with a different box option.\n    if (!resizeObserverRef.current || resizeObserverRef.current.box !== opts.box || resizeObserverRef.current.round !== round) {\n      resizeObserverRef.current = {\n        box: opts.box,\n        round: round,\n        instance: new ResizeObserver(function (entries) {\n          var entry = entries[0];\n          var boxProp = opts.box === \"border-box\" ? \"borderBoxSize\" : opts.box === \"device-pixel-content-box\" ? \"devicePixelContentBoxSize\" : \"contentBoxSize\";\n          var reportedWidth = extractSize(entry, boxProp, \"inlineSize\");\n          var reportedHeight = extractSize(entry, boxProp, \"blockSize\");\n          var newWidth = reportedWidth ? round(reportedWidth) : undefined;\n          var newHeight = reportedHeight ? round(reportedHeight) : undefined;\n\n          if (previous.current.width !== newWidth || previous.current.height !== newHeight) {\n            var newSize = {\n              width: newWidth,\n              height: newHeight\n            };\n            previous.current.width = newWidth;\n            previous.current.height = newHeight;\n\n            if (onResizeRef.current) {\n              onResizeRef.current(newSize);\n            } else {\n              if (!didUnmount.current) {\n                setSize(newSize);\n              }\n            }\n          }\n        })\n      };\n    }\n\n    resizeObserverRef.current.instance.observe(element, {\n      box: opts.box\n    });\n    return function () {\n      if (resizeObserverRef.current) {\n        resizeObserverRef.current.instance.unobserve(element);\n      }\n    };\n  }, [opts.box, round]), opts.ref);\n  return useMemo(function () {\n    return {\n      ref: refCallback,\n      width: size.width,\n      height: size.height\n    };\n  }, [refCallback, size.width, size.height]);\n}\n\nexport { useResizeObserver as default };\n", "function clamp(v, min, max) {\n  return Math.max(min, Math.min(v, max));\n}\nconst V = {\n  toVector(v, fallback) {\n    if (v === undefined) v = fallback;\n    return Array.isArray(v) ? v : [v, v];\n  },\n  add(v1, v2) {\n    return [v1[0] + v2[0], v1[1] + v2[1]];\n  },\n  sub(v1, v2) {\n    return [v1[0] - v2[0], v1[1] - v2[1]];\n  },\n  addTo(v1, v2) {\n    v1[0] += v2[0];\n    v1[1] += v2[1];\n  },\n  subTo(v1, v2) {\n    v1[0] -= v2[0];\n    v1[1] -= v2[1];\n  }\n};\nfunction rubberband(distance, dimension, constant) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity) return Math.pow(distance, constant * 5);\n  return distance * dimension * constant / (dimension + constant * distance);\n}\nfunction rubberbandIfOutOfBounds(position, min, max, constant = 0.15) {\n  if (constant === 0) return clamp(position, min, max);\n  if (position < min) return -rubberband(min - position, max - min, constant) + min;\n  if (position > max) return +rubberband(position - max, max - min, constant) + max;\n  return position;\n}\nfunction computeRubberband(bounds, [Vx, Vy], [Rx, Ry]) {\n  const [[X0, X1], [Y0, Y1]] = bounds;\n  return [rubberbandIfOutOfBounds(Vx, X0, X1, Rx), rubberbandIfOutOfBounds(Vy, Y0, Y1, Ry)];\n}\n\nexport { V, computeRubberband as c, rubberbandIfOutOfBounds as r };\n", "import { V, c as computeRubberband } from './maths-0ab39ae9.esm.js';\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\n\nconst EVENT_TYPE_MAP = {\n  pointer: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  mouse: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  touch: {\n    start: 'start',\n    change: 'move',\n    end: 'end'\n  },\n  gesture: {\n    start: 'start',\n    change: 'change',\n    end: 'end'\n  }\n};\nfunction capitalize(string) {\n  if (!string) return '';\n  return string[0].toUpperCase() + string.slice(1);\n}\nconst actionsWithoutCaptureSupported = ['enter', 'leave'];\nfunction hasCapture(capture = false, actionKey) {\n  return capture && !actionsWithoutCaptureSupported.includes(actionKey);\n}\nfunction toHandlerProp(device, action = '', capture = false) {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return 'on' + capitalize(device) + capitalize(actionKey) + (hasCapture(capture, actionKey) ? 'Capture' : '');\n}\nconst pointerCaptureEvents = ['gotpointercapture', 'lostpointercapture'];\nfunction parseProp(prop) {\n  let eventKey = prop.substring(2).toLowerCase();\n  const passive = !!~eventKey.indexOf('passive');\n  if (passive) eventKey = eventKey.replace('passive', '');\n  const captureKey = pointerCaptureEvents.includes(eventKey) ? 'capturecapture' : 'capture';\n  const capture = !!~eventKey.indexOf(captureKey);\n  if (capture) eventKey = eventKey.replace('capture', '');\n  return {\n    device: eventKey,\n    capture,\n    passive\n  };\n}\nfunction toDomEventType(device, action = '') {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return device + actionKey;\n}\nfunction isTouch(event) {\n  return 'touches' in event;\n}\nfunction getPointerType(event) {\n  if (isTouch(event)) return 'touch';\n  if ('pointerType' in event) return event.pointerType;\n  return 'mouse';\n}\nfunction getCurrentTargetTouchList(event) {\n  return Array.from(event.touches).filter(e => {\n    var _event$currentTarget, _event$currentTarget$;\n    return e.target === event.currentTarget || ((_event$currentTarget = event.currentTarget) === null || _event$currentTarget === void 0 || (_event$currentTarget$ = _event$currentTarget.contains) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.call(_event$currentTarget, e.target));\n  });\n}\nfunction getTouchList(event) {\n  return event.type === 'touchend' || event.type === 'touchcancel' ? event.changedTouches : event.targetTouches;\n}\nfunction getValueEvent(event) {\n  return isTouch(event) ? getTouchList(event)[0] : event;\n}\nfunction distanceAngle(P1, P2) {\n  try {\n    const dx = P2.clientX - P1.clientX;\n    const dy = P2.clientY - P1.clientY;\n    const cx = (P2.clientX + P1.clientX) / 2;\n    const cy = (P2.clientY + P1.clientY) / 2;\n    const distance = Math.hypot(dx, dy);\n    const angle = -(Math.atan2(dx, dy) * 180) / Math.PI;\n    const origin = [cx, cy];\n    return {\n      angle,\n      distance,\n      origin\n    };\n  } catch (_unused) {}\n  return null;\n}\nfunction touchIds(event) {\n  return getCurrentTargetTouchList(event).map(touch => touch.identifier);\n}\nfunction touchDistanceAngle(event, ids) {\n  const [P1, P2] = Array.from(event.touches).filter(touch => ids.includes(touch.identifier));\n  return distanceAngle(P1, P2);\n}\nfunction pointerId(event) {\n  const valueEvent = getValueEvent(event);\n  return isTouch(event) ? valueEvent.identifier : valueEvent.pointerId;\n}\nfunction pointerValues(event) {\n  const valueEvent = getValueEvent(event);\n  return [valueEvent.clientX, valueEvent.clientY];\n}\nconst LINE_HEIGHT = 40;\nconst PAGE_HEIGHT = 800;\nfunction wheelValues(event) {\n  let {\n    deltaX,\n    deltaY,\n    deltaMode\n  } = event;\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n  return [deltaX, deltaY];\n}\nfunction scrollValues(event) {\n  var _ref, _ref2;\n  const {\n    scrollX,\n    scrollY,\n    scrollLeft,\n    scrollTop\n  } = event.currentTarget;\n  return [(_ref = scrollX !== null && scrollX !== void 0 ? scrollX : scrollLeft) !== null && _ref !== void 0 ? _ref : 0, (_ref2 = scrollY !== null && scrollY !== void 0 ? scrollY : scrollTop) !== null && _ref2 !== void 0 ? _ref2 : 0];\n}\nfunction getEventDetails(event) {\n  const payload = {};\n  if ('buttons' in event) payload.buttons = event.buttons;\n  if ('shiftKey' in event) {\n    const {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    } = event;\n    Object.assign(payload, {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    });\n  }\n  return payload;\n}\n\nfunction call(v, ...args) {\n  if (typeof v === 'function') {\n    return v(...args);\n  } else {\n    return v;\n  }\n}\nfunction noop() {}\nfunction chain(...fns) {\n  if (fns.length === 0) return noop;\n  if (fns.length === 1) return fns[0];\n  return function () {\n    let result;\n    for (const fn of fns) {\n      result = fn.apply(this, arguments) || result;\n    }\n    return result;\n  };\n}\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\n\nconst BEFORE_LAST_KINEMATICS_DELAY = 32;\nclass Engine {\n  constructor(ctrl, args, key) {\n    this.ctrl = ctrl;\n    this.args = args;\n    this.key = key;\n    if (!this.state) {\n      this.state = {};\n      this.computeValues([0, 0]);\n      this.computeInitial();\n      if (this.init) this.init();\n      this.reset();\n    }\n  }\n  get state() {\n    return this.ctrl.state[this.key];\n  }\n  set state(state) {\n    this.ctrl.state[this.key] = state;\n  }\n  get shared() {\n    return this.ctrl.state.shared;\n  }\n  get eventStore() {\n    return this.ctrl.gestureEventStores[this.key];\n  }\n  get timeoutStore() {\n    return this.ctrl.gestureTimeoutStores[this.key];\n  }\n  get config() {\n    return this.ctrl.config[this.key];\n  }\n  get sharedConfig() {\n    return this.ctrl.config.shared;\n  }\n  get handler() {\n    return this.ctrl.handlers[this.key];\n  }\n  reset() {\n    const {\n      state,\n      shared,\n      ingKey,\n      args\n    } = this;\n    shared[ingKey] = state._active = state.active = state._blocked = state._force = false;\n    state._step = [false, false];\n    state.intentional = false;\n    state._movement = [0, 0];\n    state._distance = [0, 0];\n    state._direction = [0, 0];\n    state._delta = [0, 0];\n    state._bounds = [[-Infinity, Infinity], [-Infinity, Infinity]];\n    state.args = args;\n    state.axis = undefined;\n    state.memo = undefined;\n    state.elapsedTime = state.timeDelta = 0;\n    state.direction = [0, 0];\n    state.distance = [0, 0];\n    state.overflow = [0, 0];\n    state._movementBound = [false, false];\n    state.velocity = [0, 0];\n    state.movement = [0, 0];\n    state.delta = [0, 0];\n    state.timeStamp = 0;\n  }\n  start(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._active) {\n      this.reset();\n      this.computeInitial();\n      state._active = true;\n      state.target = event.target;\n      state.currentTarget = event.currentTarget;\n      state.lastOffset = config.from ? call(config.from, state) : state.offset;\n      state.offset = state.lastOffset;\n      state.startTime = state.timeStamp = event.timeStamp;\n    }\n  }\n  computeValues(values) {\n    const state = this.state;\n    state._values = values;\n    state.values = this.config.transform(values);\n  }\n  computeInitial() {\n    const state = this.state;\n    state._initial = state._values;\n    state.initial = state.values;\n  }\n  compute(event) {\n    const {\n      state,\n      config,\n      shared\n    } = this;\n    state.args = this.args;\n    let dt = 0;\n    if (event) {\n      state.event = event;\n      if (config.preventDefault && event.cancelable) state.event.preventDefault();\n      state.type = event.type;\n      shared.touches = this.ctrl.pointerIds.size || this.ctrl.touchIds.size;\n      shared.locked = !!document.pointerLockElement;\n      Object.assign(shared, getEventDetails(event));\n      shared.down = shared.pressed = shared.buttons % 2 === 1 || shared.touches > 0;\n      dt = event.timeStamp - state.timeStamp;\n      state.timeStamp = event.timeStamp;\n      state.elapsedTime = state.timeStamp - state.startTime;\n    }\n    if (state._active) {\n      const _absoluteDelta = state._delta.map(Math.abs);\n      V.addTo(state._distance, _absoluteDelta);\n    }\n    if (this.axisIntent) this.axisIntent(event);\n    const [_m0, _m1] = state._movement;\n    const [t0, t1] = config.threshold;\n    const {\n      _step,\n      values\n    } = state;\n    if (config.hasCustomTransform) {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && values[0];\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && values[1];\n    } else {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && Math.sign(_m0) * t0;\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && Math.sign(_m1) * t1;\n    }\n    state.intentional = _step[0] !== false || _step[1] !== false;\n    if (!state.intentional) return;\n    const movement = [0, 0];\n    if (config.hasCustomTransform) {\n      const [v0, v1] = values;\n      movement[0] = _step[0] !== false ? v0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? v1 - _step[1] : 0;\n    } else {\n      movement[0] = _step[0] !== false ? _m0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? _m1 - _step[1] : 0;\n    }\n    if (this.restrictToAxis && !state._blocked) this.restrictToAxis(movement);\n    const previousOffset = state.offset;\n    const gestureIsActive = state._active && !state._blocked || state.active;\n    if (gestureIsActive) {\n      state.first = state._active && !state.active;\n      state.last = !state._active && state.active;\n      state.active = shared[this.ingKey] = state._active;\n      if (event) {\n        if (state.first) {\n          if ('bounds' in config) state._bounds = call(config.bounds, state);\n          if (this.setup) this.setup();\n        }\n        state.movement = movement;\n        this.computeOffset();\n      }\n    }\n    const [ox, oy] = state.offset;\n    const [[x0, x1], [y0, y1]] = state._bounds;\n    state.overflow = [ox < x0 ? -1 : ox > x1 ? 1 : 0, oy < y0 ? -1 : oy > y1 ? 1 : 0];\n    state._movementBound[0] = state.overflow[0] ? state._movementBound[0] === false ? state._movement[0] : state._movementBound[0] : false;\n    state._movementBound[1] = state.overflow[1] ? state._movementBound[1] === false ? state._movement[1] : state._movementBound[1] : false;\n    const rubberband = state._active ? config.rubberband || [0, 0] : [0, 0];\n    state.offset = computeRubberband(state._bounds, state.offset, rubberband);\n    state.delta = V.sub(state.offset, previousOffset);\n    this.computeMovement();\n    if (gestureIsActive && (!state.last || dt > BEFORE_LAST_KINEMATICS_DELAY)) {\n      state.delta = V.sub(state.offset, previousOffset);\n      const absoluteDelta = state.delta.map(Math.abs);\n      V.addTo(state.distance, absoluteDelta);\n      state.direction = state.delta.map(Math.sign);\n      state._direction = state._delta.map(Math.sign);\n      if (!state.first && dt > 0) {\n        state.velocity = [absoluteDelta[0] / dt, absoluteDelta[1] / dt];\n        state.timeDelta = dt;\n      }\n    }\n  }\n  emit() {\n    const state = this.state;\n    const shared = this.shared;\n    const config = this.config;\n    if (!state._active) this.clean();\n    if ((state._blocked || !state.intentional) && !state._force && !config.triggerAllEvents) return;\n    const memo = this.handler(_objectSpread2(_objectSpread2(_objectSpread2({}, shared), state), {}, {\n      [this.aliasKey]: state.values\n    }));\n    if (memo !== undefined) state.memo = memo;\n  }\n  clean() {\n    this.eventStore.clean();\n    this.timeoutStore.clean();\n  }\n}\n\nfunction selectAxis([dx, dy], threshold) {\n  const absDx = Math.abs(dx);\n  const absDy = Math.abs(dy);\n  if (absDx > absDy && absDx > threshold) {\n    return 'x';\n  }\n  if (absDy > absDx && absDy > threshold) {\n    return 'y';\n  }\n  return undefined;\n}\nclass CoordinatesEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"aliasKey\", 'xy');\n  }\n  reset() {\n    super.reset();\n    this.state.axis = undefined;\n  }\n  init() {\n    this.state.offset = [0, 0];\n    this.state.lastOffset = [0, 0];\n  }\n  computeOffset() {\n    this.state.offset = V.add(this.state.lastOffset, this.state.movement);\n  }\n  computeMovement() {\n    this.state.movement = V.sub(this.state.offset, this.state.lastOffset);\n  }\n  axisIntent(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state.axis && event) {\n      const threshold = typeof config.axisThreshold === 'object' ? config.axisThreshold[getPointerType(event)] : config.axisThreshold;\n      state.axis = selectAxis(state._movement, threshold);\n    }\n    state._blocked = (config.lockDirection || !!config.axis) && !state.axis || !!config.axis && config.axis !== state.axis;\n  }\n  restrictToAxis(v) {\n    if (this.config.axis || this.config.lockDirection) {\n      switch (this.state.axis) {\n        case 'x':\n          v[1] = 0;\n          break;\n        case 'y':\n          v[0] = 0;\n          break;\n      }\n    }\n  }\n}\n\nconst identity = v => v;\nconst DEFAULT_RUBBERBAND = 0.15;\nconst commonConfigResolver = {\n  enabled(value = true) {\n    return value;\n  },\n  eventOptions(value, _k, config) {\n    return _objectSpread2(_objectSpread2({}, config.shared.eventOptions), value);\n  },\n  preventDefault(value = false) {\n    return value;\n  },\n  triggerAllEvents(value = false) {\n    return value;\n  },\n  rubberband(value = 0) {\n    switch (value) {\n      case true:\n        return [DEFAULT_RUBBERBAND, DEFAULT_RUBBERBAND];\n      case false:\n        return [0, 0];\n      default:\n        return V.toVector(value);\n    }\n  },\n  from(value) {\n    if (typeof value === 'function') return value;\n    if (value != null) return V.toVector(value);\n  },\n  transform(value, _k, config) {\n    const transform = value || config.shared.transform;\n    this.hasCustomTransform = !!transform;\n    if (process.env.NODE_ENV === 'development') {\n      const originalTransform = transform || identity;\n      return v => {\n        const r = originalTransform(v);\n        if (!isFinite(r[0]) || !isFinite(r[1])) {\n          console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${r[0]},${[1]}]`);\n        }\n        return r;\n      };\n    }\n    return transform || identity;\n  },\n  threshold(value) {\n    return V.toVector(value, 0);\n  }\n};\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(commonConfigResolver, {\n    domTarget(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n      }\n      return NaN;\n    },\n    lockDirection(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`lockDirection\\` option has been merged with \\`axis\\`. Use it as in \\`{ axis: 'lock' }\\``);\n      }\n      return NaN;\n    },\n    initial(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`initial\\` option has been renamed to \\`from\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\n\nconst DEFAULT_AXIS_THRESHOLD = 0;\nconst coordinatesConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  axis(_v, _k, {\n    axis\n  }) {\n    this.lockDirection = axis === 'lock';\n    if (!this.lockDirection) return axis;\n  },\n  axisThreshold(value = DEFAULT_AXIS_THRESHOLD) {\n    return value;\n  },\n  bounds(value = {}) {\n    if (typeof value === 'function') {\n      return state => coordinatesConfigResolver.bounds(value(state));\n    }\n    if ('current' in value) {\n      return () => value.current;\n    }\n    if (typeof HTMLElement === 'function' && value instanceof HTMLElement) {\n      return value;\n    }\n    const {\n      left = -Infinity,\n      right = Infinity,\n      top = -Infinity,\n      bottom = Infinity\n    } = value;\n    return [[left, right], [top, bottom]];\n  }\n});\n\nconst KEYS_DELTA_MAP = {\n  ArrowRight: (displacement, factor = 1) => [displacement * factor, 0],\n  ArrowLeft: (displacement, factor = 1) => [-1 * displacement * factor, 0],\n  ArrowUp: (displacement, factor = 1) => [0, -1 * displacement * factor],\n  ArrowDown: (displacement, factor = 1) => [0, displacement * factor]\n};\nclass DragEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'dragging');\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._pointerId = undefined;\n    state._pointerActive = false;\n    state._keyboardActive = false;\n    state._preventScroll = false;\n    state._delayed = false;\n    state.swipe = [0, 0];\n    state.tap = false;\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n  }\n  setup() {\n    const state = this.state;\n    if (state._bounds instanceof HTMLElement) {\n      const boundRect = state._bounds.getBoundingClientRect();\n      const targetRect = state.currentTarget.getBoundingClientRect();\n      const _bounds = {\n        left: boundRect.left - targetRect.left + state.offset[0],\n        right: boundRect.right - targetRect.right + state.offset[0],\n        top: boundRect.top - targetRect.top + state.offset[1],\n        bottom: boundRect.bottom - targetRect.bottom + state.offset[1]\n      };\n      state._bounds = coordinatesConfigResolver.bounds(_bounds);\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    state.canceled = true;\n    state._active = false;\n    setTimeout(() => {\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  setActive() {\n    this.state._active = this.state._pointerActive || this.state._keyboardActive;\n  }\n  clean() {\n    this.pointerClean();\n    this.state._pointerActive = false;\n    this.state._keyboardActive = false;\n    super.clean();\n  }\n  pointerDown(event) {\n    const config = this.config;\n    const state = this.state;\n    if (event.buttons != null && (Array.isArray(config.pointerButtons) ? !config.pointerButtons.includes(event.buttons) : config.pointerButtons !== -1 && config.pointerButtons !== event.buttons)) return;\n    const ctrlIds = this.ctrl.setEventIds(event);\n    if (config.pointerCapture) {\n      event.target.setPointerCapture(event.pointerId);\n    }\n    if (ctrlIds && ctrlIds.size > 1 && state._pointerActive) return;\n    this.start(event);\n    this.setupPointer(event);\n    state._pointerId = pointerId(event);\n    state._pointerActive = true;\n    this.computeValues(pointerValues(event));\n    this.computeInitial();\n    if (config.preventScrollAxis && getPointerType(event) !== 'mouse') {\n      state._active = false;\n      this.setupScrollPrevention(event);\n    } else if (config.delay > 0) {\n      this.setupDelayTrigger(event);\n      if (config.triggerAllEvents) {\n        this.compute(event);\n        this.emit();\n      }\n    } else {\n      this.startPointerDrag(event);\n    }\n  }\n  startPointerDrag(event) {\n    const state = this.state;\n    state._active = true;\n    state._preventScroll = true;\n    state._delayed = false;\n    this.compute(event);\n    this.emit();\n  }\n  pointerMove(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._pointerActive) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    const _values = pointerValues(event);\n    if (document.pointerLockElement === event.target) {\n      state._delta = [event.movementX, event.movementY];\n    } else {\n      state._delta = V.sub(_values, state._values);\n      this.computeValues(_values);\n    }\n    V.addTo(state._movement, state._delta);\n    this.compute(event);\n    if (state._delayed && state.intentional) {\n      this.timeoutStore.remove('dragDelay');\n      state.active = false;\n      this.startPointerDrag(event);\n      return;\n    }\n    if (config.preventScrollAxis && !state._preventScroll) {\n      if (state.axis) {\n        if (state.axis === config.preventScrollAxis || config.preventScrollAxis === 'xy') {\n          state._active = false;\n          this.clean();\n          return;\n        } else {\n          this.timeoutStore.remove('startPointerDrag');\n          this.startPointerDrag(event);\n          return;\n        }\n      } else {\n        return;\n      }\n    }\n    this.emit();\n  }\n  pointerUp(event) {\n    this.ctrl.setEventIds(event);\n    try {\n      if (this.config.pointerCapture && event.target.hasPointerCapture(event.pointerId)) {\n        ;\n        event.target.releasePointerCapture(event.pointerId);\n      }\n    } catch (_unused) {\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(`[@use-gesture]: If you see this message, it's likely that you're using an outdated version of \\`@react-three/fiber\\`. \\n\\nPlease upgrade to the latest version.`);\n      }\n    }\n    const state = this.state;\n    const config = this.config;\n    if (!state._active || !state._pointerActive) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    this.state._pointerActive = false;\n    this.setActive();\n    this.compute(event);\n    const [dx, dy] = state._distance;\n    state.tap = dx <= config.tapsThreshold && dy <= config.tapsThreshold;\n    if (state.tap && config.filterTaps) {\n      state._force = true;\n    } else {\n      const [_dx, _dy] = state._delta;\n      const [_mx, _my] = state._movement;\n      const [svx, svy] = config.swipe.velocity;\n      const [sx, sy] = config.swipe.distance;\n      const sdt = config.swipe.duration;\n      if (state.elapsedTime < sdt) {\n        const _vx = Math.abs(_dx / state.timeDelta);\n        const _vy = Math.abs(_dy / state.timeDelta);\n        if (_vx > svx && Math.abs(_mx) > sx) state.swipe[0] = Math.sign(_dx);\n        if (_vy > svy && Math.abs(_my) > sy) state.swipe[1] = Math.sign(_dy);\n      }\n    }\n    this.emit();\n  }\n  pointerClick(event) {\n    if (!this.state.tap && event.detail > 0) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  setupPointer(event) {\n    const config = this.config;\n    const device = config.device;\n    if (process.env.NODE_ENV === 'development') {\n      try {\n        if (device === 'pointer' && config.preventScrollDelay === undefined) {\n          const currentTarget = 'uv' in event ? event.sourceEvent.currentTarget : event.currentTarget;\n          const style = window.getComputedStyle(currentTarget);\n          if (style.touchAction === 'auto') {\n            console.warn(`[@use-gesture]: The drag target has its \\`touch-action\\` style property set to \\`auto\\`. It is recommended to add \\`touch-action: 'none'\\` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\\n\\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.`, currentTarget);\n          }\n        }\n      } catch (_unused2) {}\n    }\n    if (config.pointerLock) {\n      event.currentTarget.requestPointerLock();\n    }\n    if (!config.pointerCapture) {\n      this.eventStore.add(this.sharedConfig.window, device, 'change', this.pointerMove.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'end', this.pointerUp.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'cancel', this.pointerUp.bind(this));\n    }\n  }\n  pointerClean() {\n    if (this.config.pointerLock && document.pointerLockElement === this.state.currentTarget) {\n      document.exitPointerLock();\n    }\n  }\n  preventScroll(event) {\n    if (this.state._preventScroll && event.cancelable) {\n      event.preventDefault();\n    }\n  }\n  setupScrollPrevention(event) {\n    this.state._preventScroll = false;\n    persistEvent(event);\n    const remove = this.eventStore.add(this.sharedConfig.window, 'touch', 'change', this.preventScroll.bind(this), {\n      passive: false\n    });\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'end', remove);\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'cancel', remove);\n    this.timeoutStore.add('startPointerDrag', this.startPointerDrag.bind(this), this.config.preventScrollDelay, event);\n  }\n  setupDelayTrigger(event) {\n    this.state._delayed = true;\n    this.timeoutStore.add('dragDelay', () => {\n      this.state._step = [0, 0];\n      this.startPointerDrag(event);\n    }, this.config.delay);\n  }\n  keyDown(event) {\n    const deltaFn = KEYS_DELTA_MAP[event.key];\n    if (deltaFn) {\n      const state = this.state;\n      const factor = event.shiftKey ? 10 : event.altKey ? 0.1 : 1;\n      this.start(event);\n      state._delta = deltaFn(this.config.keyboardDisplacement, factor);\n      state._keyboardActive = true;\n      V.addTo(state._movement, state._delta);\n      this.compute(event);\n      this.emit();\n    }\n  }\n  keyUp(event) {\n    if (!(event.key in KEYS_DELTA_MAP)) return;\n    this.state._keyboardActive = false;\n    this.setActive();\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    bindFunction(device, 'start', this.pointerDown.bind(this));\n    if (this.config.pointerCapture) {\n      bindFunction(device, 'change', this.pointerMove.bind(this));\n      bindFunction(device, 'end', this.pointerUp.bind(this));\n      bindFunction(device, 'cancel', this.pointerUp.bind(this));\n      bindFunction('lostPointerCapture', '', this.pointerUp.bind(this));\n    }\n    if (this.config.keys) {\n      bindFunction('key', 'down', this.keyDown.bind(this));\n      bindFunction('key', 'up', this.keyUp.bind(this));\n    }\n    if (this.config.filterTaps) {\n      bindFunction('click', '', this.pointerClick.bind(this), {\n        capture: true,\n        passive: false\n      });\n    }\n  }\n}\nfunction persistEvent(event) {\n  'persist' in event && typeof event.persist === 'function' && event.persist();\n}\n\nconst isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement;\nfunction supportsTouchEvents() {\n  return isBrowser && 'ontouchstart' in window;\n}\nfunction isTouchScreen() {\n  return supportsTouchEvents() || isBrowser && window.navigator.maxTouchPoints > 1;\n}\nfunction supportsPointerEvents() {\n  return isBrowser && 'onpointerdown' in window;\n}\nfunction supportsPointerLock() {\n  return isBrowser && 'exitPointerLock' in window.document;\n}\nfunction supportsGestureEvents() {\n  try {\n    return 'constructor' in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\nconst SUPPORT = {\n  isBrowser,\n  gesture: supportsGestureEvents(),\n  touch: supportsTouchEvents(),\n  touchscreen: isTouchScreen(),\n  pointer: supportsPointerEvents(),\n  pointerLock: supportsPointerLock()\n};\n\nconst DEFAULT_PREVENT_SCROLL_DELAY = 250;\nconst DEFAULT_DRAG_DELAY = 180;\nconst DEFAULT_SWIPE_VELOCITY = 0.5;\nconst DEFAULT_SWIPE_DISTANCE = 50;\nconst DEFAULT_SWIPE_DURATION = 250;\nconst DEFAULT_KEYBOARD_DISPLACEMENT = 10;\nconst DEFAULT_DRAG_AXIS_THRESHOLD = {\n  mouse: 0,\n  touch: 0,\n  pen: 8\n};\nconst dragConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  device(_v, _k, {\n    pointer: {\n      touch = false,\n      lock = false,\n      mouse = false\n    } = {}\n  }) {\n    this.pointerLock = lock && SUPPORT.pointerLock;\n    if (SUPPORT.touch && touch) return 'touch';\n    if (this.pointerLock) return 'mouse';\n    if (SUPPORT.pointer && !mouse) return 'pointer';\n    if (SUPPORT.touch) return 'touch';\n    return 'mouse';\n  },\n  preventScrollAxis(value, _k, {\n    preventScroll\n  }) {\n    this.preventScrollDelay = typeof preventScroll === 'number' ? preventScroll : preventScroll || preventScroll === undefined && value ? DEFAULT_PREVENT_SCROLL_DELAY : undefined;\n    if (!SUPPORT.touchscreen || preventScroll === false) return undefined;\n    return value ? value : preventScroll !== undefined ? 'y' : undefined;\n  },\n  pointerCapture(_v, _k, {\n    pointer: {\n      capture = true,\n      buttons = 1,\n      keys = true\n    } = {}\n  }) {\n    this.pointerButtons = buttons;\n    this.keys = keys;\n    return !this.pointerLock && this.device === 'pointer' && capture;\n  },\n  threshold(value, _k, {\n    filterTaps = false,\n    tapsThreshold = 3,\n    axis = undefined\n  }) {\n    const threshold = V.toVector(value, filterTaps ? tapsThreshold : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    this.tapsThreshold = tapsThreshold;\n    return threshold;\n  },\n  swipe({\n    velocity = DEFAULT_SWIPE_VELOCITY,\n    distance = DEFAULT_SWIPE_DISTANCE,\n    duration = DEFAULT_SWIPE_DURATION\n  } = {}) {\n    return {\n      velocity: this.transform(V.toVector(velocity)),\n      distance: this.transform(V.toVector(distance)),\n      duration\n    };\n  },\n  delay(value = 0) {\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n      case false:\n        return 0;\n      default:\n        return value;\n    }\n  },\n  axisThreshold(value) {\n    if (!value) return DEFAULT_DRAG_AXIS_THRESHOLD;\n    return _objectSpread2(_objectSpread2({}, DEFAULT_DRAG_AXIS_THRESHOLD), value);\n  },\n  keyboardDisplacement(value = DEFAULT_KEYBOARD_DISPLACEMENT) {\n    return value;\n  }\n});\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(dragConfigResolver, {\n    useTouch(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`useTouch\\` option has been renamed to \\`pointer.touch\\`. Use it as in \\`{ pointer: { touch: true } }\\`.`);\n      }\n      return NaN;\n    },\n    experimental_preventWindowScrollY(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`experimental_preventWindowScrollY\\` option has been renamed to \\`preventScroll\\`.`);\n      }\n      return NaN;\n    },\n    swipeVelocity(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeVelocity\\` option has been renamed to \\`swipe.velocity\\`. Use it as in \\`{ swipe: { velocity: 0.5 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDistance(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDistance\\` option has been renamed to \\`swipe.distance\\`. Use it as in \\`{ swipe: { distance: 50 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDuration(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDuration\\` option has been renamed to \\`swipe.duration\\`. Use it as in \\`{ swipe: { duration: 250 } }\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\n\nfunction clampStateInternalMovementToBounds(state) {\n  const [ox, oy] = state.overflow;\n  const [dx, dy] = state._delta;\n  const [dirx, diry] = state._direction;\n  if (ox < 0 && dx > 0 && dirx < 0 || ox > 0 && dx < 0 && dirx > 0) {\n    state._movement[0] = state._movementBound[0];\n  }\n  if (oy < 0 && dy > 0 && diry < 0 || oy > 0 && dy < 0 && diry > 0) {\n    state._movement[1] = state._movementBound[1];\n  }\n}\n\nconst SCALE_ANGLE_RATIO_INTENT_DEG = 30;\nconst PINCH_WHEEL_RATIO = 100;\nclass PinchEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'pinching');\n    _defineProperty(this, \"aliasKey\", 'da');\n  }\n  init() {\n    this.state.offset = [1, 0];\n    this.state.lastOffset = [1, 0];\n    this.state._pointerEvents = new Map();\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._touchIds = [];\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n    state.turns = 0;\n  }\n  computeOffset() {\n    const {\n      type,\n      movement,\n      lastOffset\n    } = this.state;\n    if (type === 'wheel') {\n      this.state.offset = V.add(movement, lastOffset);\n    } else {\n      this.state.offset = [(1 + movement[0]) * lastOffset[0], movement[1] + lastOffset[1]];\n    }\n  }\n  computeMovement() {\n    const {\n      offset,\n      lastOffset\n    } = this.state;\n    this.state.movement = [offset[0] / lastOffset[0], offset[1] - lastOffset[1]];\n  }\n  axisIntent() {\n    const state = this.state;\n    const [_m0, _m1] = state._movement;\n    if (!state.axis) {\n      const axisMovementDifference = Math.abs(_m0) * SCALE_ANGLE_RATIO_INTENT_DEG - Math.abs(_m1);\n      if (axisMovementDifference < 0) state.axis = 'angle';else if (axisMovementDifference > 0) state.axis = 'scale';\n    }\n  }\n  restrictToAxis(v) {\n    if (this.config.lockDirection) {\n      if (this.state.axis === 'scale') v[1] = 0;else if (this.state.axis === 'angle') v[0] = 0;\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    setTimeout(() => {\n      state.canceled = true;\n      state._active = false;\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  touchStart(event) {\n    this.ctrl.setEventIds(event);\n    const state = this.state;\n    const ctrlTouchIds = this.ctrl.touchIds;\n    if (state._active) {\n      if (state._touchIds.every(id => ctrlTouchIds.has(id))) return;\n    }\n    if (ctrlTouchIds.size < 2) return;\n    this.start(event);\n    state._touchIds = Array.from(ctrlTouchIds).slice(0, 2);\n    const payload = touchDistanceAngle(event, state._touchIds);\n    if (!payload) return;\n    this.pinchStart(event, payload);\n  }\n  pointerStart(event) {\n    if (event.buttons != null && event.buttons % 2 !== 1) return;\n    this.ctrl.setEventIds(event);\n    event.target.setPointerCapture(event.pointerId);\n    const state = this.state;\n    const _pointerEvents = state._pointerEvents;\n    const ctrlPointerIds = this.ctrl.pointerIds;\n    if (state._active) {\n      if (Array.from(_pointerEvents.keys()).every(id => ctrlPointerIds.has(id))) return;\n    }\n    if (_pointerEvents.size < 2) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (state._pointerEvents.size < 2) return;\n    this.start(event);\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    if (!payload) return;\n    this.pinchStart(event, payload);\n  }\n  pinchStart(event, payload) {\n    const state = this.state;\n    state.origin = payload.origin;\n    this.computeValues([payload.distance, payload.angle]);\n    this.computeInitial();\n    this.compute(event);\n    this.emit();\n  }\n  touchMove(event) {\n    if (!this.state._active) return;\n    const payload = touchDistanceAngle(event, this.state._touchIds);\n    if (!payload) return;\n    this.pinchMove(event, payload);\n  }\n  pointerMove(event) {\n    const _pointerEvents = this.state._pointerEvents;\n    if (_pointerEvents.has(event.pointerId)) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (!this.state._active) return;\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    if (!payload) return;\n    this.pinchMove(event, payload);\n  }\n  pinchMove(event, payload) {\n    const state = this.state;\n    const prev_a = state._values[1];\n    const delta_a = payload.angle - prev_a;\n    let delta_turns = 0;\n    if (Math.abs(delta_a) > 270) delta_turns += Math.sign(delta_a);\n    this.computeValues([payload.distance, payload.angle - 360 * delta_turns]);\n    state.origin = payload.origin;\n    state.turns = delta_turns;\n    state._movement = [state._values[0] / state._initial[0] - 1, state._values[1] - state._initial[1]];\n    this.compute(event);\n    this.emit();\n  }\n  touchEnd(event) {\n    this.ctrl.setEventIds(event);\n    if (!this.state._active) return;\n    if (this.state._touchIds.some(id => !this.ctrl.touchIds.has(id))) {\n      this.state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  pointerEnd(event) {\n    const state = this.state;\n    this.ctrl.setEventIds(event);\n    try {\n      event.target.releasePointerCapture(event.pointerId);\n    } catch (_unused) {}\n    if (state._pointerEvents.has(event.pointerId)) {\n      state._pointerEvents.delete(event.pointerId);\n    }\n    if (!state._active) return;\n    if (state._pointerEvents.size < 2) {\n      state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  gestureStart(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    if (state._active) return;\n    this.start(event);\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  gestureMove(event) {\n    if (event.cancelable) event.preventDefault();\n    if (!this.state._active) return;\n    const state = this.state;\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    const _previousMovement = state._movement;\n    state._movement = [event.scale - 1, event.rotation];\n    state._delta = V.sub(state._movement, _previousMovement);\n    this.compute(event);\n    this.emit();\n  }\n  gestureEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  wheel(event) {\n    const modifierKey = this.config.modifierKey;\n    if (modifierKey && (Array.isArray(modifierKey) ? !modifierKey.find(k => event[k]) : !event[modifierKey])) return;\n    if (!this.state._active) this.wheelStart(event);else this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n  wheelStart(event) {\n    this.start(event);\n    this.wheelChange(event);\n  }\n  wheelChange(event) {\n    const isR3f = ('uv' in event);\n    if (!isR3f) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n      if (process.env.NODE_ENV === 'development' && !event.defaultPrevented) {\n        console.warn(`[@use-gesture]: To properly support zoom on trackpads, try using the \\`target\\` option.\\n\\nThis message will only appear in development mode.`);\n      }\n    }\n    const state = this.state;\n    state._delta = [-wheelValues(event)[1] / PINCH_WHEEL_RATIO * state.offset[0], 0];\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    if (!!device) {\n      bindFunction(device, 'start', this[device + 'Start'].bind(this));\n      bindFunction(device, 'change', this[device + 'Move'].bind(this));\n      bindFunction(device, 'end', this[device + 'End'].bind(this));\n      bindFunction(device, 'cancel', this[device + 'End'].bind(this));\n      bindFunction('lostPointerCapture', '', this[device + 'End'].bind(this));\n    }\n    if (this.config.pinchOnWheel) {\n      bindFunction('wheel', '', this.wheel.bind(this), {\n        passive: false\n      });\n    }\n  }\n}\n\nconst pinchConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  device(_v, _k, {\n    shared,\n    pointer: {\n      touch = false\n    } = {}\n  }) {\n    const sharedConfig = shared;\n    if (sharedConfig.target && !SUPPORT.touch && SUPPORT.gesture) return 'gesture';\n    if (SUPPORT.touch && touch) return 'touch';\n    if (SUPPORT.touchscreen) {\n      if (SUPPORT.pointer) return 'pointer';\n      if (SUPPORT.touch) return 'touch';\n    }\n  },\n  bounds(_v, _k, {\n    scaleBounds = {},\n    angleBounds = {}\n  }) {\n    const _scaleBounds = state => {\n      const D = assignDefault(call(scaleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D.min, D.max];\n    };\n    const _angleBounds = state => {\n      const A = assignDefault(call(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A.min, A.max];\n    };\n    if (typeof scaleBounds !== 'function' && typeof angleBounds !== 'function') return [_scaleBounds(), _angleBounds()];\n    return state => [_scaleBounds(state), _angleBounds(state)];\n  },\n  threshold(value, _k, config) {\n    this.lockDirection = config.axis === 'lock';\n    const threshold = V.toVector(value, this.lockDirection ? [0.1, 3] : 0);\n    return threshold;\n  },\n  modifierKey(value) {\n    if (value === undefined) return 'ctrlKey';\n    return value;\n  },\n  pinchOnWheel(value = true) {\n    return value;\n  }\n});\n\nclass MoveEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'moving');\n  }\n  move(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    if (!this.state._active) this.moveStart(event);else this.moveChange(event);\n    this.timeoutStore.add('moveEnd', this.moveEnd.bind(this));\n  }\n  moveStart(event) {\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.computeInitial();\n    this.emit();\n  }\n  moveChange(event) {\n    if (!this.state._active) return;\n    const values = pointerValues(event);\n    const state = this.state;\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  moveEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('pointer', 'change', this.move.bind(this));\n    bindFunction('pointer', 'leave', this.moveEnd.bind(this));\n  }\n}\n\nconst moveConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nclass ScrollEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'scrolling');\n  }\n  scroll(event) {\n    if (!this.state._active) this.start(event);\n    this.scrollChange(event);\n    this.timeoutStore.add('scrollEnd', this.scrollEnd.bind(this));\n  }\n  scrollChange(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    const values = scrollValues(event);\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  scrollEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('scroll', '', this.scroll.bind(this));\n  }\n}\n\nconst scrollConfigResolver = coordinatesConfigResolver;\n\nclass WheelEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'wheeling');\n  }\n  wheel(event) {\n    if (!this.state._active) this.start(event);\n    this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n  wheelChange(event) {\n    const state = this.state;\n    state._delta = wheelValues(event);\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('wheel', '', this.wheel.bind(this));\n  }\n}\n\nconst wheelConfigResolver = coordinatesConfigResolver;\n\nclass HoverEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'hovering');\n  }\n  enter(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.emit();\n  }\n  leave(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    const state = this.state;\n    if (!state._active) return;\n    state._active = false;\n    const values = pointerValues(event);\n    state._movement = state._delta = V.sub(values, state._values);\n    this.computeValues(values);\n    this.compute(event);\n    state.delta = state.movement;\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('pointer', 'enter', this.enter.bind(this));\n    bindFunction('pointer', 'leave', this.leave.bind(this));\n  }\n}\n\nconst hoverConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nconst EngineMap = new Map();\nconst ConfigResolverMap = new Map();\nfunction registerAction(action) {\n  EngineMap.set(action.key, action.engine);\n  ConfigResolverMap.set(action.key, action.resolver);\n}\nconst dragAction = {\n  key: 'drag',\n  engine: DragEngine,\n  resolver: dragConfigResolver\n};\nconst hoverAction = {\n  key: 'hover',\n  engine: HoverEngine,\n  resolver: hoverConfigResolver\n};\nconst moveAction = {\n  key: 'move',\n  engine: MoveEngine,\n  resolver: moveConfigResolver\n};\nconst pinchAction = {\n  key: 'pinch',\n  engine: PinchEngine,\n  resolver: pinchConfigResolver\n};\nconst scrollAction = {\n  key: 'scroll',\n  engine: ScrollEngine,\n  resolver: scrollConfigResolver\n};\nconst wheelAction = {\n  key: 'wheel',\n  engine: WheelEngine,\n  resolver: wheelConfigResolver\n};\n\nexport { ConfigResolverMap as C, EngineMap as E, SUPPORT as S, _objectSpread2 as _, _defineProperty as a, touchIds as b, chain as c, toHandlerProp as d, dragAction as e, pinchAction as f, hoverAction as h, isTouch as i, moveAction as m, parseProp as p, registerAction as r, scrollAction as s, toDomEventType as t, wheelAction as w };\n", "import { registerAction, dragAction, pinchAction, wheelAction, scrollAction, moveAction, hoverAction } from '@use-gesture/core/actions';\nexport * from '@use-gesture/core/actions';\nimport React from 'react';\nimport { Controller, parseMergedHandlers } from '@use-gesture/core';\nexport * from '@use-gesture/core/utils';\nexport * from '@use-gesture/core/types';\n\nfunction useRecognizers(handlers, config = {}, gestureKey, nativeHandlers) {\n  const ctrl = React.useMemo(() => new Controller(handlers), []);\n  ctrl.applyHandlers(handlers, nativeHandlers);\n  ctrl.applyConfig(config, gestureKey);\n  React.useEffect(ctrl.effect.bind(ctrl));\n  React.useEffect(() => {\n    return ctrl.clean.bind(ctrl);\n  }, []);\n  if (config.target === undefined) {\n    return ctrl.bind.bind(ctrl);\n  }\n  return undefined;\n}\n\nfunction useDrag(handler, config) {\n  registerAction(dragAction);\n  return useRecognizers({\n    drag: handler\n  }, config || {}, 'drag');\n}\n\nfunction usePinch(handler, config) {\n  registerAction(pinchAction);\n  return useRecognizers({\n    pinch: handler\n  }, config || {}, 'pinch');\n}\n\nfunction useWheel(handler, config) {\n  registerAction(wheelAction);\n  return useRecognizers({\n    wheel: handler\n  }, config || {}, 'wheel');\n}\n\nfunction useScroll(handler, config) {\n  registerAction(scrollAction);\n  return useRecognizers({\n    scroll: handler\n  }, config || {}, 'scroll');\n}\n\nfunction useMove(handler, config) {\n  registerAction(moveAction);\n  return useRecognizers({\n    move: handler\n  }, config || {}, 'move');\n}\n\nfunction useHover(handler, config) {\n  registerAction(hoverAction);\n  return useRecognizers({\n    hover: handler\n  }, config || {}, 'hover');\n}\n\nfunction createUseGesture(actions) {\n  actions.forEach(registerAction);\n  return function useGesture(_handlers, _config) {\n    const {\n      handlers,\n      nativeHandlers,\n      config\n    } = parseMergedHandlers(_handlers, _config || {});\n    return useRecognizers(handlers, config, undefined, nativeHandlers);\n  };\n}\n\nfunction useGesture(handlers, config) {\n  const hook = createUseGesture([dragAction, pinchAction, scrollAction, wheelAction, moveAction, hoverAction]);\n  return hook(handlers, config || {});\n}\n\nexport { createUseGesture, useDrag, useGesture, useHover, useMove, usePinch, useScroll, useWheel };\n", "import { S as SUPPORT, C as ConfigResolverMap, _ as _objectSpread2, a as _defineProperty, t as toDomEventType, i as isTouch, b as touchIds, E as EngineMap, c as chain, p as parseProp, d as toHandlerProp } from './actions-fe213e88.esm.js';\nimport './maths-0ab39ae9.esm.js';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nconst sharedConfigResolver = {\n  target(value) {\n    if (value) {\n      return () => 'current' in value ? value.current : value;\n    }\n    return undefined;\n  },\n  enabled(value = true) {\n    return value;\n  },\n  window(value = SUPPORT.isBrowser ? window : undefined) {\n    return value;\n  },\n  eventOptions({\n    passive = true,\n    capture = false\n  } = {}) {\n    return {\n      passive,\n      capture\n    };\n  },\n  transform(value) {\n    return value;\n  }\n};\n\nconst _excluded = [\"target\", \"eventOptions\", \"window\", \"enabled\", \"transform\"];\nfunction resolveWith(config = {}, resolvers) {\n  const result = {};\n  for (const [key, resolver] of Object.entries(resolvers)) {\n    switch (typeof resolver) {\n      case 'function':\n        if (process.env.NODE_ENV === 'development') {\n          const r = resolver.call(result, config[key], key, config);\n          if (!Number.isNaN(r)) result[key] = r;\n        } else {\n          result[key] = resolver.call(result, config[key], key, config);\n        }\n        break;\n      case 'object':\n        result[key] = resolveWith(config[key], resolver);\n        break;\n      case 'boolean':\n        if (resolver) result[key] = config[key];\n        break;\n    }\n  }\n  return result;\n}\nfunction parse(newConfig, gestureKey, _config = {}) {\n  const _ref = newConfig,\n    {\n      target,\n      eventOptions,\n      window,\n      enabled,\n      transform\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  _config.shared = resolveWith({\n    target,\n    eventOptions,\n    window,\n    enabled,\n    transform\n  }, sharedConfigResolver);\n  if (gestureKey) {\n    const resolver = ConfigResolverMap.get(gestureKey);\n    _config[gestureKey] = resolveWith(_objectSpread2({\n      shared: _config.shared\n    }, rest), resolver);\n  } else {\n    for (const key in rest) {\n      const resolver = ConfigResolverMap.get(key);\n      if (resolver) {\n        _config[key] = resolveWith(_objectSpread2({\n          shared: _config.shared\n        }, rest[key]), resolver);\n      } else if (process.env.NODE_ENV === 'development') {\n        if (!['drag', 'pinch', 'scroll', 'wheel', 'move', 'hover'].includes(key)) {\n          if (key === 'domTarget') {\n            throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n          }\n          console.warn(`[@use-gesture]: Unknown config key \\`${key}\\` was used. Please read the documentation for further information.`);\n        }\n      }\n    }\n  }\n  return _config;\n}\n\nclass EventStore {\n  constructor(ctrl, gestureKey) {\n    _defineProperty(this, \"_listeners\", new Set());\n    this._ctrl = ctrl;\n    this._gestureKey = gestureKey;\n  }\n  add(element, device, action, handler, options) {\n    const listeners = this._listeners;\n    const type = toDomEventType(device, action);\n    const _options = this._gestureKey ? this._ctrl.config[this._gestureKey].eventOptions : {};\n    const eventOptions = _objectSpread2(_objectSpread2({}, _options), options);\n    element.addEventListener(type, handler, eventOptions);\n    const remove = () => {\n      element.removeEventListener(type, handler, eventOptions);\n      listeners.delete(remove);\n    };\n    listeners.add(remove);\n    return remove;\n  }\n  clean() {\n    this._listeners.forEach(remove => remove());\n    this._listeners.clear();\n  }\n}\n\nclass TimeoutStore {\n  constructor() {\n    _defineProperty(this, \"_timeouts\", new Map());\n  }\n  add(key, callback, ms = 140, ...args) {\n    this.remove(key);\n    this._timeouts.set(key, window.setTimeout(callback, ms, ...args));\n  }\n  remove(key) {\n    const timeout = this._timeouts.get(key);\n    if (timeout) window.clearTimeout(timeout);\n  }\n  clean() {\n    this._timeouts.forEach(timeout => void window.clearTimeout(timeout));\n    this._timeouts.clear();\n  }\n}\n\nclass Controller {\n  constructor(handlers) {\n    _defineProperty(this, \"gestures\", new Set());\n    _defineProperty(this, \"_targetEventStore\", new EventStore(this));\n    _defineProperty(this, \"gestureEventStores\", {});\n    _defineProperty(this, \"gestureTimeoutStores\", {});\n    _defineProperty(this, \"handlers\", {});\n    _defineProperty(this, \"config\", {});\n    _defineProperty(this, \"pointerIds\", new Set());\n    _defineProperty(this, \"touchIds\", new Set());\n    _defineProperty(this, \"state\", {\n      shared: {\n        shiftKey: false,\n        metaKey: false,\n        ctrlKey: false,\n        altKey: false\n      }\n    });\n    resolveGestures(this, handlers);\n  }\n  setEventIds(event) {\n    if (isTouch(event)) {\n      this.touchIds = new Set(touchIds(event));\n      return this.touchIds;\n    } else if ('pointerId' in event) {\n      if (event.type === 'pointerup' || event.type === 'pointercancel') this.pointerIds.delete(event.pointerId);else if (event.type === 'pointerdown') this.pointerIds.add(event.pointerId);\n      return this.pointerIds;\n    }\n  }\n  applyHandlers(handlers, nativeHandlers) {\n    this.handlers = handlers;\n    this.nativeHandlers = nativeHandlers;\n  }\n  applyConfig(config, gestureKey) {\n    this.config = parse(config, gestureKey, this.config);\n  }\n  clean() {\n    this._targetEventStore.clean();\n    for (const key of this.gestures) {\n      this.gestureEventStores[key].clean();\n      this.gestureTimeoutStores[key].clean();\n    }\n  }\n  effect() {\n    if (this.config.shared.target) this.bind();\n    return () => this._targetEventStore.clean();\n  }\n  bind(...args) {\n    const sharedConfig = this.config.shared;\n    const props = {};\n    let target;\n    if (sharedConfig.target) {\n      target = sharedConfig.target();\n      if (!target) return;\n    }\n    if (sharedConfig.enabled) {\n      for (const gestureKey of this.gestures) {\n        const gestureConfig = this.config[gestureKey];\n        const bindFunction = bindToProps(props, gestureConfig.eventOptions, !!target);\n        if (gestureConfig.enabled) {\n          const Engine = EngineMap.get(gestureKey);\n          new Engine(this, args, gestureKey).bind(bindFunction);\n        }\n      }\n      const nativeBindFunction = bindToProps(props, sharedConfig.eventOptions, !!target);\n      for (const eventKey in this.nativeHandlers) {\n        nativeBindFunction(eventKey, '', event => this.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({}, this.state.shared), {}, {\n          event,\n          args\n        })), undefined, true);\n      }\n    }\n    for (const handlerProp in props) {\n      props[handlerProp] = chain(...props[handlerProp]);\n    }\n    if (!target) return props;\n    for (const handlerProp in props) {\n      const {\n        device,\n        capture,\n        passive\n      } = parseProp(handlerProp);\n      this._targetEventStore.add(target, device, '', props[handlerProp], {\n        capture,\n        passive\n      });\n    }\n  }\n}\nfunction setupGesture(ctrl, gestureKey) {\n  ctrl.gestures.add(gestureKey);\n  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl, gestureKey);\n  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();\n}\nfunction resolveGestures(ctrl, internalHandlers) {\n  if (internalHandlers.drag) setupGesture(ctrl, 'drag');\n  if (internalHandlers.wheel) setupGesture(ctrl, 'wheel');\n  if (internalHandlers.scroll) setupGesture(ctrl, 'scroll');\n  if (internalHandlers.move) setupGesture(ctrl, 'move');\n  if (internalHandlers.pinch) setupGesture(ctrl, 'pinch');\n  if (internalHandlers.hover) setupGesture(ctrl, 'hover');\n}\nconst bindToProps = (props, eventOptions, withPassiveOption) => (device, action, handler, options = {}, isNative = false) => {\n  var _options$capture, _options$passive;\n  const capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;\n  const passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;\n  let handlerProp = isNative ? device : toHandlerProp(device, action, capture);\n  if (withPassiveOption && passive) handlerProp += 'Passive';\n  props[handlerProp] = props[handlerProp] || [];\n  props[handlerProp].push(handler);\n};\n\nconst RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;\nfunction sortHandlers(_handlers) {\n  const native = {};\n  const handlers = {};\n  const actions = new Set();\n  for (let key in _handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handlers[key] = _handlers[key];\n    } else {\n      native[key] = _handlers[key];\n    }\n  }\n  return [handlers, native, actions];\n}\nfunction registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {\n  if (!actions.has(handlerKey)) return;\n  if (!EngineMap.has(key)) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`[@use-gesture]: You've created a custom handler that that uses the \\`${key}\\` gesture but isn't properly configured.\\n\\nPlease add \\`${key}Action\\` when creating your handler.`);\n    }\n    return;\n  }\n  const startKey = handlerKey + 'Start';\n  const endKey = handlerKey + 'End';\n  const fn = state => {\n    let memo = undefined;\n    if (state.first && startKey in handlers) handlers[startKey](state);\n    if (handlerKey in handlers) memo = handlers[handlerKey](state);\n    if (state.last && endKey in handlers) handlers[endKey](state);\n    return memo;\n  };\n  internalHandlers[key] = fn;\n  config[key] = config[key] || {};\n}\nfunction parseMergedHandlers(mergedHandlers, mergedConfig) {\n  const [handlers, nativeHandlers, actions] = sortHandlers(mergedHandlers);\n  const internalHandlers = {};\n  registerGesture(actions, handlers, 'onDrag', 'drag', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onWheel', 'wheel', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onScroll', 'scroll', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onPinch', 'pinch', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onMove', 'move', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onHover', 'hover', internalHandlers, mergedConfig);\n  return {\n    handlers: internalHandlers,\n    config: mergedConfig,\n    nativeHandlers\n  };\n}\n\nexport { Controller, parseMergedHandlers };\n"],
  "mappings": "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",
  "names": ["React", "React2", "refOrElement", "round", "r", "rubberband", "import_react", "window", "Engine", "React", "useGesture", "import_jsx_runtime", "import_jsx_runtime", "import_jsx_runtime", "import_jsx_runtime", "clamp", "round", "xMin", "yMin", "vec", "m", "invariant", "jsx", "ySpan", "xSpan", "jsxs", "Fragment", "min", "max", "lower", "upper", "range", "incrementer", "point", "x", "y", "time"]
}
